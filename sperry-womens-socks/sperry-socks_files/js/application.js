!function(t){"use strict";function n(t,e){var r=this;if(t instanceof n)return t;if(!(r instanceof n))return new n(t,e);if(!t)return r;if(a(t)){if(e=e?n(e):J,!G.test(t))return t=t.trim(),e.find(t);b(r,L(t,e))}else b(r,t)}function e(){}function r(t){return"undefined"==typeof t}function i(t){return!r(t)}function a(t){return"string"==typeof t}function o(t){return en(t)||!!t&&"object"===nn(t)&&s(t.length)&&!l(t)&&!h(t)}function u(t){return!(!t||"object"!==nn(t)||t.constructor!==Object)}function c(t){for(var n in t)return!1;return!0}function s(t){return"number"==typeof t&&!isNaN(t)}function f(t){return"function"===nn(t)}function l(t){return null!=t&&t.window===t}function h(t){return!!t.nodeType}function d(t){return!t||!t.parentNode||t.parentNode.nodeType===Z}function p(t){return t.trim().replace(/^-+/,"").replace(/-([a-z])/g,function(t,n){return n.toUpperCase()})}function m(t){var n=Array.prototype.slice;return n.apply(t,n.call(arguments,1))}function v(t,n){for(var e=0,r=t.length;r>e&&!1!==n(e,t[e]);++e);}function g(t,n){for(var e in t)if(t.hasOwnProperty(e)&&!1===n(e,t[e]))break}function y(t,n){(o(t)?v:g)(t,n)}function w(t,n){null!=n&&(t[t.length++]=n)}function b(t,n){return n=m(arguments,1),y(n,function(n,e){o(e)?v(e,function(n,e){w(t,e)}):w(t,e)}),t}function T(t,n,e){var r=e||[];return y(t,function(t,e){b(r,n(e,t))}),r}function x(t,n){return t||(t={}),n=m(arguments,1),y(n,function(n,e){g(e,function(n,e){t[n]=e})}),t}function A(t,n){if(!t.getAttribute)return!1;var e=(t.getAttribute("class")||"").match(R)||[];return e.indexOf(n)>=0}function N(t,n){D(t,n,function(t,n){-1===t.indexOf(n)&&t.push(n)})}function C(t,n){D(t,n,function(t,n){var e=t.indexOf(n);-1!==e&&t.splice(e,1)})}function D(t,n,e){if(n&&t.setAttribute){var r=(t.getAttribute("class")||"").match(R)||[];y(n.match(R)||[],function(t,n){var i;do i=r.length,e(r,n);while(r.length!==i)}),r.length?t.setAttribute("class",r.join(" ")):t.removeAttribute("class")}}function O(t,n){var e,r;return n=n||document,n=h(n)?n:n[0],n=n.ownerDocument||n,G.test(t)?(t=t.replace(K,"<$1></$2>"),un.innerHTML=t,e=m(un.childNodes)):e=t?[n.createTextNode(t)]:[],r=n.createDocumentFragment(),y(e,function(t,n){r.appendChild(n)}),un.innerHTML="",r}function L(t,n){return m(O(t,n).childNodes)}function E(t){return t.getElementsByTagName?t.getElementsByTagName("*"):t.querySelectorAll?t.querySelectorAll("*"):[]}function I(t,e){if(n.hasData(t)&&n.acceptData(e)){var r=n._data(t),i=n._data(e,r);delete i[tn],i.data&&(i.data=x({},i.data))}}function M(t,n){function e(t){return 1-n(1-t)}cn.easing["easeIn"+t]=n,cn.easing["easeOut"+t]=e,cn.easing["easeInOut"+t]=function(t){return.5>t?.5*n(2*t):.5*e(2*(t-.5))+.5}}function S(t){var n=0,e="";if(s(t))n=t,e="px";else if(a(t)){var r=t.match(z);r&&(n=Number(r[1]),e=r[2])}return{val:n,unit:e}}function _(t,r,i){n._data(t,tn)&&$.error(t,"already has an animation"),i=x({complete:e,duration:400,easing:"swing"},i);var a=T(r,function(e,r){return n.tween(t,r,e,cn.easing[i.easing])}),o=x({},i,{start:n.now(),tweens:a,go:function(t){y(o.tweens,function(n,e){e(t)}),1===t&&o.complete()},stop:function(e){n.removeData(t,tn,!0),e&&o.go(1)}}),u=function(){var t=Math.min(1,(n.now()-o.start)/o.duration);return o.go(t),1>t};u.anim=o,n._data(t,tn,u),cn.addTimer(u)}function F(n,e,r,a){var o=!0;return i(a)?y(n,function(t,n){e(n,r,a)}):u(r)?g(r,function(t,r){F(n,e,t,r)}):o=!1,o?n:n.length?e(n[0],r):t}function j(t,n,e){return t.each(function(){n(this,e)})}function k(t,n){return function(e,r){return t(this,n,e,r)}}function B(t,n,e,r){var i=r||[];return e=!!e,y(t,function(t,r){e===!n(t,r)&&w(i,r)}),i}function H(t,n){if(t.nodeType!==V)return!1;var e=n.match(U);e||$.raise('Only element and class selectors are supported by tfcJQuery. "'+n+'"');var r=e[2],i=e[1];return"."===i?A(t,r):":"===i?(sn[r]||$.raise("tfcJQuery does not support the :"+r+" selector"),sn[r](t)):t.tagName.toLowerCase()===r.toLowerCase()}function P(t,e,r){var i;return i=f(e)?function(t,n){return e.call(n,t,n)}:h(e)?function(t,n){return n===e}:a(e)?function(t,n){return H(n,e)}:function(t,r){return-1!==n.inArray(r,e)},B(t,i,r,n())}function Q(t,n,e){!a(n)&&t.length>1&&$.raise(e+" does not behave the same way as jQuery with multiple elements")}function q(t,n){var e;if(l(t))return t.document.documentElement["client"+n];if(t.nodeType===Y)return e=t.documentElement,Math.max(e["scroll"+n],t.body["scroll"+n],e["offset"+n],t.body["offset"+n],e["client"+n]);var r=t["offset"+n],i=getComputedStyle(t);return y(fn[n],function(t,n){r-=S(i["padding"+n]).val,r-=S(i["border"+n+"Width"]).val}),r}/*!
   * This library is heavily derived from:
   *
   * jQuery JavaScript Library v1.8.3
   * http://jquery.com/
   *
   * Includes Sizzle.js
   * http://sizzlejs.com/
   *
   * Copyright 2012 jQuery Foundation and other contributors
   * Released under the MIT license
   * http://jquery.org/license
   *
   * Date: Tue Nov 13 2012 08:20:33 GMT-0500 (Eastern Standard Time)
   */
var J,W=window.console,$={},R=/\S+/g,z=/^(\d+(?:\.\d+)?)(px|%|)$/i,U=/^(\.|:)?([-a-z]+)$/i,G=/<|&#?\w+;/,K=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,V=1,X=3,Y=9,Z=11,tn="animTick";n.fn=n.prototype,n.extend=n.fn.extend=function(t){return 1===arguments.length?x(this,t):x.apply(null,arguments)};var nn=function(){var t,n,e={},r="Boolean Number String Function Array Date RegExp Object".split(" ");for(t=0;t<r.length;++t)n=r[t],e["[object "+n+"]"]=n.toLowerCase();return function(t){return null==t?String(t):e[Object.prototype.toString.call(t)]||"object"}}(),en=Array.isArray||function(t){return"array"===nn(t)},rn=function(){/*!
     * Copyright 2012 jQuery Foundation and other contributors
     * Released under the MIT license
     * http://jquery.org/license
     */
var t=String.prototype.trim,n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;return t&&!t.call("﻿ ")?function(n){return null==n?"":t.call(n)}:function(t){return null==t?"":(t+"").replace(n,"")}}(),an={},on="__tfc__"+Math.random();n.extend({cache:an,expando:on,guid:1,_data:function(t,e,r){return n.data(t,e,r,!0)},data:function(t,e,r,a){var o;if(n.acceptData(t)){if(o=an[t[on]]||{},null==e)return(a?o:o.data)||{};if(u(e))a?x(o,e):o.data=x(o.data,e);else{if(!i(r))return a?o[e]:o.data&&o.data[e];(a?o:o.data=o.data||{})[e]=r}return an[t[on]=t[on]||n.guid++]=o,a?o:o.data}},removeData:function(t,e,r){var i,a;n.acceptData(t)&&(i=an[t[on]])&&(!e||(a=r?i:i.data,a&&delete a[e],a&&c(a)))&&(r||(delete i.data,c(i)))&&n.cleanData([t])},cleanData:function(e){v(e,function(e,r){var i;if(n.acceptData(r)&&(i=an[r[on]])){if(i.events){if(!i.handle)throw new Error("No store.handle while calling cleanData with remaining events");y(i.events,function(t){r.removeEventListener(t,i.handle,!1)})}delete an[r[on]],r[on]=t}})},acceptData:function(t){return t&&(t.nodeType===V||t.nodeType===Y)},hasData:function(t){return!!an[t[on]]}});var un=document.createElement("div");n.extend({logging:!0,access:F,each:y,map:T,isArray:en,isFunction:f,isPlainObject:u,trim:rn,type:nn,parseHTML:L,inArray:function(t,n,e){if(o(n)){var i=Array.prototype.indexOf;if(i)return i.call(n,t,e);var a=n.length;for(r(e)?e=0:0>e&&(e=Math.max(0,a+e));a>e;++e)if(n[e]===t)return e}return-1},css:function(t,e,r){e=p(e);var i=n.style(t,e,r);return""===i&&(i=getComputedStyle(t)[e]),i},style:function(t,n,e){return n=p(n),i(e)?(s(e)&&(e+=cn.numberOnly[n]?"":"px"),void(t.style[n]=e)):t.style[n]},attr:function(n,e,i){var a=n.nodeType;if(e&&a===V)if(e=e.toLowerCase(),hn[e]){var o=hn[e];if(r(i)){var u;return n[o]||(u=n.attributes.getNamedItem(e))&&u.specified?e:t}n[o]=!!i,i?n.setAttribute(e,e):n.removeAttribute(e)}else{if(r(i)){var c=-1!=="href,src,width,height".split(",").indexOf(e),s=c?n.getAttribute(e,2):n.getAttribute(e);return null===s?t:s}n.setAttribute(e,i)}},prop:function(t,n,e){return i(e)?void(t[n]=e):t[n]},now:function(){return(new Date).getTime()},clone:function(t,n){var e,r,i=t.cloneNode(!0);return n&&(I(t,i),e=E(t),r=E(i),y(e,function(t,n){I(n,r[t])})),i},contains:function(t,n){do{if(t===n)return!0;n=n.parentNode}while(n);return!1}});var cn=n.fx={timers:[],interval:13,timeoutId:null,addTimer:function(t){cn.timers.push(t),cn.timeoutId||cn.start()},start:function(){cn.timeoutId=setInterval(cn.tick,cn.interval)},tick:function(){for(var t,n=cn.timers,e=0;e<n.length;++e)t=n[e],t()||(t.anim.stop(),n.splice(e--,1));n.length||cn.stop()},stop:function(){clearInterval(cn.timeoutId),cn.timeoutId=null},numberOnly:{opacity:!0}};cn.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},M("Quad",function(t){return t*t}),M("Cubic",function(t){return t*t*t}),M("Sine",function(t){return 1-Math.cos(t*Math.PI/2)}),n.extend({Animation:_,tweenFn:function(t,n,e,r){return function(i){r(t+(n-t)*e(i))}},tweenCss:function(t,e,r,i,a,o){return n.tweenFn(r,i,o,function(r){n.css(t,e,r+a)})},tweenProp:function(t,e,r,i,a){return n.tweenFn(r,i,a,function(r){n.prop(t,e,r)})},tween:function(t,e,r,i){var a,o;return n.propTweens[e]?(a=+n.prop(t,e),o=+r,n.tweenProp(t,e,a,o,i)):(e=p(e),a=S(n.css(t,e)),o=S(r),cn.numberOnly[e]&&(a.unit=o.unit=""),a.unit===o.unit?n.tweenCss(t,e,a.val,o.val,o.unit,i):void $.raise("different start/end units for",e,a,o))},propTweens:{scrollTop:!0}});var sn={visible:function(t){return t.offsetWidth>0||t.offsetHeight>0},focus:function(t){return document.activeElement===t}};n.fn.extend({length:0,css:k(F,n.css),style:k(F,n.style),attr:k(F,n.attr),prop:k(F,n.prop),data:k(F,n.data),removeData:k(j,n.removeData),addClass:k(j,N),removeClass:k(j,C),get:function(t){return r(t)?this.toArray():this[(0>t?this.length:0)+t]},eq:function(t){return n(this.get(t||0))},each:function(t){return y(this,function(n,e){return t.call(e,n,e)}),this},map:function(t){return T(this,function(n,e){return t.call(n,e,n)},n())},filter:function(t){return P(this,t,!1)},not:function(t){return P(this,t,!0)},is:function(t){return this.filter(t).length>0},toArray:function(){var t=[];return y(this,function(n,e){t.push(e)}),t},hasClass:function(t){return this.length?A(this[0],t):!1},removeAttr:function(t){return t&&y(this,function(n,e){e.removeAttribute(t)}),this},toggleClass:function(t,n){return t&&y(this,function(e,i){y(t.match(R)||[],function(t,e){var a=n;r(a)&&(a=!A(i,e)),(a?N:C)(i,e)})}),this},children:function(){return this.map(function(t,n){return T(n.childNodes,function(t){return t.nodeType===V?t:void 0})})},contents:function(){return this.map(function(){return this.childNodes})},add:function(t){return b(n(),this,n(t))},find:function(t){return this.map(function(){return this.querySelectorAll?this.querySelectorAll(t):void 0})},animate:function(t,n,e){var r={};return u(n)?x(r,n):s(n)?r.duration=n:f(n)&&(e=n),f(e)&&(r.complete=e),this.stop(!0).each(function(){_(this,t,r)})},fadeIn:function(t,n){return this.css({opacity:0}).show().animate({opacity:1},t,n)},fadeOut:function(t){if(i(t)&&!f(t))throw new Error("tfcJQuery#fadeOut currently only supports an optional callback argument");var n=this;return this.animate({opacity:0},function(){n.hide(),t&&t()})},stop:function(t){return this.each(function(){var e,r=n._data(this,tn);r&&(e=cn.timers.indexOf(r),-1!==e&&cn.timers.splice(e,1),r.anim.stop(t))})},remove:function(t){return y(this,function(e,r){t||r.nodeType!==V||(n.cleanData(r.getElementsByTagName("*")),n.cleanData([r])),r.parentNode&&r.parentNode.removeChild(r)}),this},detach:function(){return this.remove(!0)},empty:function(){return this.contents().remove(),this},html:function(t){return r(t)?this.length?this[0].innerHTML:"":(a(t)?(this.empty(),this.each(function(){this.innerHTML=t})):t instanceof n&&(this.empty(),this.append(t)),this)},text:function(t){var e=!1;return r(t)&&(e=!0,t=""),this.each(function(){var r=this,i=r.nodeType;(i===X||i===V)&&(e?t+=this.textContent:(n(r).empty(),this.textContent=t))}),e?t:this},parents:function(t){var n=this.map(function(){for(var t=[],n=this.parentNode;n;)t.push(n),n=n.parentNode;return t});return t&&(n=n.filter(t)),n},parent:function(t){var n=this.map(function(){return this.parentNode});return t&&(n=n.filter(t)),n},hide:function(){return this.style("display","none")},show:function(){return this.each(function(){var t=this;if(t.nodeType===V){var n,e=t.nodeName.toLowerCase();switch(e){case"div":case"iframe":n="block";break;case"span":n="inline";break;default:$.raise("Calling show on unsupported element ["+e+"]")}t.style.display=n}})},append:function(t){return Q(this,t,"append"),this.each(function(){var e=this,r=e.nodeType;(r===Z||r===V)&&n(t).each(function(){e.appendChild(this)})})},prepend:function(t){return Q(this,t,"prepend"),this.each(function(){var e=this,r=e.nodeType;if(r===Z||r===V){var i=e.firstChild;n(t).each(function(){e.insertBefore(this,i)})}})},before:function(t){return d(this[0])?b(n(),n(t),this):(Q(this,t,"before"),this.each(function(){var e=this;n(t).each(function(){e.parentNode.insertBefore(this,e)})}))},replaceWith:function(t){return d(this[0])?this.length?b(n(),n(t)):this:(Q(this,t,"replaceWith"),a(t)||(t=n(t).detach()),this.each(function(){var e=this.parentNode,r=this.nextSibling;n(this).remove(),r?n(r).before(t):n(e).append(t)}))},clone:function(t){return this.map(function(){return n.clone(this,t)})},offset:function(){var t,n=this[0];return n&&n.getBoundingClientRect?(t=n.getBoundingClientRect(),{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}):void 0},bind:function(t,e){return this.each(function(){n.event.add(this,t,e)})},unbind:function(t,e){return this.each(function(){n.event.remove(this,t,e)})}});var fn={Width:["Left","Right"],Height:["Top","Bottom"]};y(fn,function(t){var e=t.toLowerCase();n.fn[e]=function(){return arguments.length&&$.raise("tfcJQuery#"+e+" is only a getter"),this.length?q(this[0],t):null}});var ln={};n.event={special:ln,add:function(t,e,r){if(n.acceptData(t)){r.guid||(r.guid=n.guid++);var i=n._data(t,{}),a=i.handle;a||(a=i.handle=function(t){return n.event.dispatch.call(a.elem,t)},a.elem=t);var o=e;e=(ln[e]||{}).fixType||e;var u={type:e,origType:o,handler:r,guid:r.guid},c=i.events=i.events||{},s=c[e];s||(s=c[e]=[],t.addEventListener(e,a,!1)),s.push(u),t=null}},dispatch:function(t){var e,r=t.type,i=this,a=n._data(i,"events");if(a&&a[r])for(var o=a[r],u=0,c=o.length;c>u;++u){var s=o[u],f=(ln[s.origType]||{}).handle;e=f?f.call(i,t,s):s.handler.call(i,t),e===!1&&(t.preventDefault(),t.stopPropagation())}},remove:function(t,e,r){if(n.acceptData(t)&&n.hasData(t)){var i=n._data(t),a=i.events;e=(ln[e]||{}).fixType||e,a&&a[e]&&(a[e]=B(a[e],function(t,n){return!r||n.guid===r.guid},!0),0===a[e].length&&(delete a[e],t.removeEventListener(e,i.handle,!1)),c(a)&&(delete i.handle,n.removeData(t,"events",!0)))}}},y({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){ln[t]={fixType:e,handle:function(t,e){var r,i=this,a=t.relatedTarget;return(!a||a!==i&&!n.contains(i,a))&&(r=e.handler.call(i,t)),r}}});var hn={};y("selected,checked,disabled,multiple,readOnly,required,open".split(","),function(t,n){hn[n.toLowerCase()]=n}),y(["log","debug","warn","error"],function(t,e){$[e]=function(){n.logging&&W&&W[e].apply(W,arguments)}}),$.raise=function(){throw new Error(m(arguments).join(" "))},J=n(document),window.tfcJQuery=n}();
var TFCApp;!function(){"use strict";var e;TFCApp={getRunMode:function(){return e},isDevMode:function(){return e===TFCApp.RunModes.dev},RunModes:{dev:1,test:2,staging:3,prod:4},Constants:{RequestParameter:{UserSession:"userCookie",Gender:"gender",SetupGender:"setupGender",Department:"department",Category:"category",ProductType:"productType",IPS:"ips",FirstName:"firstName",OrderId:"orderid",StyleColorId:"colorId",AvailableSizes:"availableSizes",Style:"style",StoreEmbedded:"storeEmbedded",Placement:"placement",UserId:"userid",Locale:"locale",StoreRegistered:"storeRegistered",OriginWidget:"originWidget",Container:"container",ScreenSize:"screenSize",SessionParams:"sessionParams",SessionParamOverrides:"sessionParamOverrides",AnalyticsSession:"analyticsSession",AnalyticsScreenSize:"analyticsScreenSize",AnalyticsArgs:"analyticsArgs",UniversalAnalyticsArgs:"universalAnalyticsArgs",PageName:"pageName",Funnels:"funnels",CookiesEnabled:"cookiesEnabled",SourceTrigger:"sourceTrigger",AlternateUserId:"alternateUserId",StoreTla:"storeId",WindowParams:"windowParams",ServiceSecureURI:"serviceSecureURI",StoreVersionPath:"storeVersionPath",ProfileComplete:"profileComplete",FitRecResult:"fitrecResult",CustomProfileJs:"customjs",IsEnteringData:"isEnteringData",WidgetContext:"widgetContext",Widget:"widget",JavascriptIntegrated:"javascriptIntegrated",AutoCalculate:"autoCalculate",DeviceType:"deviceType",ServiceMode:"serviceMode",ClientToServerLoggingLevel:"clientToServerLoggingLevel",LoggingTimeoutDelay:"loggingTimeoutDelay",PostRequestLimit:"postRequestLimit",ClientLogLimit:"clientLogLimit",LoggingContextLimit:"loggingContextLimit",Token:"token",UserHasLegacyCookie:"userHasLegacyCookie"},Header:{UserSession:"X-TF-UserSession",SessionParams:"X-TF-SessionParams",SessionParamMaxAge:"X-TF-SessionParamMaxAge"},Attributes:{FIRST_NAME:"data-x-firstname",ALT_USER_ID:"data-x-altuserid",ORDER_ID:"data-orderid",GENDER:"data-gender",IPS:"data-ips",LOCALE:"data-locale",STYLE_ID:"id",USERID:"data-userid",USER_ID:"data-user-id",STORE_REGISTERED:"data-registered",STYLE_COLOR_ID:"data-colorid",AVAILABLE_SIZES:"data-availablesizes",CONTEXT:"data-context"},DeviceType:{Mobile:"mobile",Desktop:"desktop",Responsive:"responsive"},Department:{Men:"Mens",Unisex:"Unisex",Women:"Womens"},Gender:{Male:"Male",Female:"Female"},ProductType:{Tops:"Tops",Bottoms:"Bottoms",Shoes:"Shoes",DressShirts:"DressShirts",Dresses:"Dresses",Suits:"Suits"},IPS:{FitDetails:"fitdetails",Login:"login",NewProfile:"newprofile",UpdateProfile:"profile",Unknown:"unknown",Welcome:"welcome",PetitesPage:"petitespage",GeneralSizeAdvice:"generalsizeadvice",Manage:"manage",Save:"save"},Context:{QuickView:"quickview"},SourceTrigger:{Banner:"Banner",Widget:"Widget",Popup:"Popup"},Container:{Modal:"modal",Tip:"tip",App:"app"},Message:{Open:"open",Close:"close",Update:"update",Complete:"complete",PageLoad:"pageload",SessionParams:"sessionparams",SessionParamsMaxAge:"sessionparamsmaxage",LogOut:"logout",Resize:"resize",Refresh:"refresh",UserSession:"usersession",AddToBag:"addtobag",ScreenSizeChange:"screensizechange",FitRecResults:"fitrecresults"},NGEvents:{UpdateProfileStrength:"UpdateProfileStrength"},ScreenSize:{Small:"small",Large:"large"},FitRec:{Event:{LogOut:"logout",OpenDialog:"opendialog",MoreInfo:"moreinfo",OpenRegistration:"openreg",Render:"render"},Status:{EstimationInProgress:"estimationinprogress",Error:"error",IncompleteGarment:"incompletegarment",IncompleteProfile:"incompleteprofile",InvalidDepartment:"invaliddepartment",InvalidGender:"invalidgender",InvalidSizeType:"invalidsizetype",NoUser:"nouser",NoStyle:"nostyle",NoStyleNoUser:"nostylenouser",SizeNotAvailable:"sizenotavailable",Success:"success",UserDisabled:"userdisabled"},TemplateName:{AnonymousNotRecommended:"anonymousnotrecommended",AnonymousRecommended:"anonymousrecommended",EstimationInProgress:"estimationinprogress",Error:"error",IncompleteGarment:"incompletegarment",IncompleteProfile:"incompleteprofile",InvalidDepartment:"invaliddepartment",InvalidGender:"invalidgender",InvalidSizeTypePetite:"invalidsizetypepetite",NoUser:"nouser",NoStyle:"nostyle",NoStyleNoUser:"nostylenouser",NotRecommended:"notrecommended",Recommended:"recommended",RecommendedGarmentUserSizeOnly:"garmentusersizeonly",RecommendedGarmentSizeOnly:"garmentsizeonly",RecommendedUserSizeOnly:"usersizeonly",BrandAdvice:"brandadvice"}}},analytics:{},component:{},manager:{},tips:{},utility:{}},e=TFCApp.RunModes.prod||TFCApp.RunModes.dev}();
/*!
 * jQuery JavaScript Library v1.8.3
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: Tue Nov 13 2012 08:20:33 GMT-0500 (Eastern Standard Time)
 */
!function(t,r){"use strict";var n,o,e,i,s,f;n=function(){var t=/^(?:body|html)$/i;return{_getWindow:function(t){return this.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1},_scroll:function(t,r,n,o,e){var i=this._getWindow(t);return void 0===r?i?n in i?i[n]:i.document.documentElement[o]:t[o]:void(i?i.scrollTo(e?this.scrollLeft(t):r,e?r:this.scrollTop(t)):t[o]=r)},isWindow:function(t){return null!=t&&t==t.window},position:function(n){var o=n[0],e=this.offsetParent(n),i=n.offset(),s=t.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(r.css(o,"marginTop"))||0,i.left-=parseFloat(r.css(o,"marginLeft"))||0,s.top+=parseFloat(r.css(e[0],"borderTopWidth"))||0,s.left+=parseFloat(r.css(e[0],"borderLeftWidth"))||0,{top:i.top-s.top,left:i.left-s.left}},offsetParent:function(n){return n.map(function(){for(var n=this.offsetParent||document.body;n&&!t.test(n.nodeName)&&"static"===r.css(n,"position");)n=n.offsetParent;return n||document.body})},scrollLeft:function(t,r){return this._scroll(t,r,"pageXOffset","scrollLeft")},scrollTop:function(t,r){return this._scroll(t,r,"pageYOffset","scrollTop",!0)}}}(),e=function(t,r){var n=t.css(r),o=n?parseInt(n.replace("px","")):0/0;return isNaN(o)?0:o},i=function(t){var r=e(t,"paddingLeft"),n=t.width(),o=e(t,"paddingRight");return r+n+o},s=function(t,r){var n=r?e(t,"marginTop"):0,o=e(t,"borderTopWidth"),i=e(t,"paddingTop"),s=t.height(),f=e(t,"fontSize"),u=e(t,"paddingBottom"),l=e(t,"borderBottomWidth"),c=r?e(t,"marginBottom"):0;return f>s&&(s=f),n+o+i+s+u+l+c},f=function(t,r){var n=r?e(t,"marginLeft"):0,o=e(t,"borderLeftWidth"),i=e(t,"paddingLeft"),s=t.width(),f=e(t,"paddingRight"),u=e(t,"borderRightWidth"),l=r?e(t,"marginRight"):0;return n+o+i+s+f+u+l},o=function(){return r.apply(r,arguments)},o.innerWidth=function(t){return r.fn.innerWidth?t.innerWidth():i(t)},o.outerHeight=function(t,n){var o=n?n:!1;return r.fn.outerHeight?t.outerHeight(o):s(t,o)},o.outerWidth=function(t,n){var o=n?n:!1;return r.fn.outerWidth?t.outerWidth(o):f(t,o)},o.position=function(t){return r.fn.position?t.position():n.position(t)},o.scrollTop=function(t,o){return r.fn.scrollTop?function(t,r){return t.scrollTop.apply(t,r)}(r(t),Array.prototype.slice.call(arguments,1)):n.scrollTop(t,o)},o.scrollLeft=function(t,o){return r.fn.scrollLeft?function(t,r){return t.scrollLeft.apply(t,r)}(r(t),Array.prototype.slice.call(arguments,1)):n.scrollLeft(t,o)},o.parseHtml=function(t){return o(r.parseHTML(r.trim(t)))},o.isWithinBounds=function(t,r,n){var e=t.offset(),i=e.left,s=e.top,f=o.outerWidth(t),u=o.outerHeight(t);return r>i&&i+f>r&&n>s&&s+u>n},t.extLibs=o}(TFCApp,tfcJQuery);
!function(e){"use strict";var t=e.extLibs=e.extLibs||{};t.contains=function(e,t){do{if(t===e)return!0;t=t.parentNode}while(t);return!1};var n={canBubble:!0,cancelable:!0,view:window,detail:null,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null};t.mouseEvent=function(e,t,i){var c,r=document.createEvent("MouseEvent");"object"==typeof t?i=t:(i=i||{},i.type=t);for(c in n)n.hasOwnProperty(c)&&!i.hasOwnProperty(c)&&(i[c]=n[c]);i.button=0,r.initMouseEvent(i.type,i.canBubble,i.cancelable,i.view,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget),e.dispatchEvent(r)},t.click=function(e,n){t.mouseEvent(e,"click",n)},/*!
   Code in this section is derived fom: https://github.com/HubSpot/YouMightNotNeedjQuery

   Copyright (c) 2014 HubSpot, Inc.

   Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:

   The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
   */
t.addEventListener=function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n):e.detachEvent("on"+t,n)}}(TFCApp);
/*!
 * Simple JavaScript Inheritance
 * By John Resig http://ejohn.org/
 * MIT Licensed.
 *
 * Extended to included support for private methods and variables
 * through the use of a proxy object on instantiation.
 */
!function(t){"use strict";function n(){function t(){var t=this;f||t._constructor&&t._constructor.apply(t,arguments)}return t}function r(t,n){var r;return f=!0,r=new n,f=!1,s(t,r,n),r}function o(){throw new Error("Unimplemented abstract function")}function e(t,n){return function(){var r,o=this._super;return this._super=n,r=t.apply(this,arguments),this._super=o,r}}function s(t,n,r){var o;for(o in t)t.hasOwnProperty(o)&&(n[o]=r&&"function"==typeof t[o]&&"function"==typeof r.prototype[o]&&a.test(t[o])?e(t[o],r.prototype[o]):t[o])}function u(t){var o,e;return e=this,o=n(),o.prototype=r(t,e),o.prototype.constructor=o,o.extend=u.bind(o),o.isSubClassOf=i,o}function i(t){return this.prototype instanceof t}function p(){var t,n=this;for(t in n)n.hasOwnProperty(t)&&delete n[t]}var c,f=!1,a=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;c=n(),c.prototype.destroy=p,c.extend=u.bind(c),c.isSubClassOf=i,c.unimplemented=o,t.Class=c}(TFCApp);
!function(e){"use strict";function n(e){var n=(new Error).stack;this.name="RaiseError",this.message=e,n&&(this.stack=n)}function t(e){function n(e,n){if(n instanceof HTMLElement)return n.outerHTML;if("object"==typeof n){if(t.indexOf(n)>=0)return"[Circular]";t.push(n)}return n}var t=[];return JSON.stringify(e,n)}function i(n){O<R.postRequestLimit&&(null===p&&(p=setTimeout(function(){O++,e.utility.Http.post(c,s,{clientLogs:f,postNumber:O,loggingContext:v}),f=[],p=null,v=[]},R.loggingTimeoutDelay)),f.length<R.clientLogLimit&&f.push(n))}function o(n,t,i){return[[e.util.isoDateString(),n,"["+t+"]"].join(" ")].concat(i)}function r(n,r,l){var u,s,c=E[r];u=o(r,l,e.util.slice(arguments,3)),g&&console[n]&&m.level<=c&&(console[n].apply?console[n].apply(console,u):console[n](u)),R&&0!==R.loggingContextLimit&&(c===E.INFO||a===E.ERROR&&c===E.WARN)&&(v.length===R.loggingContextLimit&&v.shift(),v.push(t(u))),R&&c>=a&&(s={level:r,message:t(u)},i(s))}function l(t){var r,l;r=o("EXCEPTION",t,e.util.slice(arguments,1));var u=new n(r.join(" "));throw l={level:"ERROR",error:u},R&&a!==E.OFF&&i(l),u}var u,s,c,g=!!window.console,R=null,a=null,E={TRACE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,OFF:6},f=[],p=null,O=0,v=[];n.prototype=Object.create(Error.prototype),n.prototype.constructor=n;var m={TRACE:E.TRACE,DEBUG:E.DEBUG,INFO:E.INFO,WARN:E.WARN,ERROR:E.ERROR,OFF:E.OFF,RaiseError:n,getLogger:function(e){return{trace:r.bind(null,"log","TRACE",e),debug:r.bind(null,"log","DEBUG",e),info:r.bind(null,"info","INFO",e),warn:r.bind(null,"warn","WARN",e),error:r.bind(null,"error","ERROR",e),raise:l.bind(null,e)}},initializeServerLogging:function(e){R=e,e&&(a=E[R.loggingLevel],u="/consumer/ui/"+R.storeTla+"/client-log",R.serviceURI&&(c=R.serviceURI+u),s=R.serviceSecureURI+u)}};m.level=e.isDevMode()?E.DEBUG:E.WARN,e.utility.Logger=m}(TFCApp);
/*!
 * domready (c) Dustin Diaz 2012 - License MIT
 */
!function(t){"use strict";function e(t){for(g=1;t=d.shift();)n(t)}function n(t){try{t()}catch(e){r.error(e)}}var o,c,r=t.utility.Logger.getLogger("TFCdomready"),d=[],a=!1,i=document,u=i.documentElement,f=u.doScroll,s="DOMContentLoaded",l="addEventListener",h="onreadystatechange",m="readyState",y=f?/^loaded|^c/:/^loaded|c/,g=y.test(i[m]);i[l]&&i[l](s,o=function(){i.removeEventListener(s,o,a),e()},a),f&&i.attachEvent(h,o=function(){/^c/.test(i[m])&&(i.detachEvent(h,o),e())}),t.extLibs.domready=c=f?function(t){self!=top?g?n(t):d.push(t):function(){try{u.doScroll("left")}catch(e){return setTimeout(function(){c(t)},50)}n(t)}()}:function(t){g?n(t):d.push(t)}}(TFCApp);
!function(){"use strict";window.TFPApp={analytics:{},component:{},utility:{},manager:{},view:{},nav:{}}}();
!function(t){"use strict";var e=t.Class,n=e.unimplemented,i=e.extend({getElem:n,setElem:n,removeElem:n,_each:n,_eachReverse:n,_size:function(){var e=0;return t.util.each(this,function(){++e}),e},_containsKey:function(e){var n=this;return!!t.util.find(n,function(i){return t.util.objEquals(i,e,n._strictKeys)})},_containsVal:function(e,n){return!!t.util.find(this,function(i,u){return t.util.objEquals(u,e,n)})},_isSorted:!1,_strictKeys:!0});t.Collection=i}(TFCApp);
!function(t){"use strict";var e=t.Collection.extend({_constructor:function(e,i){var n=this;void 0!==e&&(n._strictKeys=e),i?t.util.usesStrictKeys(i)&&!n._strictKeys?(n._map=[],t.util.each(i,n.setElem.bind(n))):n._map=t.util.keyValPairs(i):n._map=[]},getElem:function(t){var e=this._findEntry(t);return e&&e.val.val},setElem:function(t,e){var i=this._map,n=this._findEntry(t);n?n.val.val=e:i.push({key:t,val:e})},removeElem:function(t){var e=this._findEntry(t);return e&&this._map.splice(e.key,1),e&&e.val.val},_each:function(t){var e,i,n=this._map;for(e=0;e<n.length&&(i=n[e],t(i.key,i.val)!==!1);++e);},_eachReverse:function(t){var e,i,n=this._map;for(e=n.length-1;e>=0&&(i=n[e],t(i.key,i.val)!==!1);--e);},_findEntry:function(e){var i=this;return t.util.find(i._map,function(n,r){return t.util.objEquals(r.key,e,i._strictKeys)})},_size:function(){return this._map.length},_map:null,_isSorted:!0});t.SortedMap=e}(TFCApp);
!function(n,t,e){"use strict";function r(n,t){return t}function o(n){return n===e?!0:n}function i(n){var t;return n instanceof d?n:(t=l.type(n),"array"===t?new s(e,n):"object"===t||"function"===t?new f(e,n):void h.raise("Object is not a collection-like type",n))}function a(n){return n instanceof c?n.obj():n}function u(n,t){l[n+l.capitalize(t)]=function(){var e=l[n].apply(l,arguments);return e&&e[t]}}var c,s,f,l=n.util={},p=n.utility.Logger,h=p.getLogger("TFCUtil"),d=n.Collection,m=Array.prototype,y=m.slice;c=d.extend({getElem:function(n){return this._obj[n]},setElem:function(n,t){this._obj[n]=t},obj:function(){return this._obj},_containsKey:function(n){return n in this._obj},_obj:null,_strictKeys:!0}),s=c.extend({_constructor:function(n,t){this._obj=t||[]},pushElem:function(n){this._obj.push(n)},removeElem:function(n){var t=this.getElem(n);return this._obj.splice(n,1),t},_each:function(n){var t,e=this._obj;for(t=0;t<e.length&&n(t,e[t])!==!1;++t);},_eachReverse:function(n){var t,e=this._obj;for(t=e.length-1;t>=0&&n(t,e[t])!==!1;--t);},_size:function(){return this._obj.length},_containsVal:function(n,t){var e=m.indexOf;return t&&e?e.call(this._obj,n)>=0:this._super(n,t)},_isSorted:!0}),f=c.extend({_constructor:function(n,t){this._obj=t||{}},removeElem:function(n){var t=this.getElem(n);return delete this._obj[n],t},_each:function(n){var t,e=this._obj;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&n(t,e[t])===!1)break}}),l.stringToBool=function(n){return"true"===n},l.stringStartsWith=function(n,t){return 0===n.lastIndexOf(t,0)},l.stringEndsWith=function(n,t){return n.indexOf(t,n.length-t.length)>=0},l.filter=function(n,t){return l.partition(n,t)["true"]},l.partition=function(n,t){var e=i(n),r=new e.constructor(e._strictKeys),o=new e.constructor(e._strictKeys);return l.each(e,function(n,e){var i=t(n,e)?r:o;i instanceof s?i.pushElem(e):i.setElem(n,e)}),{"true":a(r),"false":a(o)}},l.map=function(n,t){var e=i(n),r=new e.constructor(e._strictKeys);return l.each(e,function(n,e){r instanceof s?r.pushElem(t(n,e)):r.setElem(n,t(n,e))}),a(r)},l.flatMap=function(n,t){return l.filter(l.map(n,t),function(n,t){return null!==t&&t!==e})},l.reverse=function(n){var t,e=i(n);return t=new e.constructor(e._strictKeys),l.eachReverse(e,function(n,e){t instanceof s?t.pushElem(e):t.setElem(n,e)}),a(t)},l.count=function(n,t){return l.size(l.filter(n,t))},l.sum=function(n){var t=0;return l.each(n,function(n,e){t+=e}),t},l.noop=function(){},l.reduce=function(n,t,r){var o,i=!1;if(r!==e)o=r;else{if(!l.isArray(n))throw new Error("you must provide an initial value when reducing an object");if(0===n.length)throw new TypeError("Reduce of empty array with no initial value");o=n[0],n=n.slice(1),i=!0}return l.each(n,function(e,r){e=i?e+1:e,o=t(o,e,r,n)}),o},l.groupByPreservingOrder=function(t,e,r){var u,c=i(t);if(r=o(r),u=new n.SortedMap(r),!c._isSorted)throw"TFCApp.util.groupByPreservingOrder cannot preserve order on unordered inputs";return l.each(c,function(n,t){var r,o=e(n,t);l.containsKey(u,o)?r=u.getElem(o):(r=new c.constructor(c._strictKeys),u.setElem(o,r)),c instanceof s?r.pushElem(t):r.setElem(n,t)}),l.map(u,function(n,t){return a(t)})},l.objKeys=function(n){var t=[];return l.each(n,function(n){t.push(n)}),t},l.objVals=function(n){var t=[];return l.each(n,function(n,e){t.push(e)}),t},l.keyValPairs=function(n){var t=[];return l.each(n,function(n,e){t.push({key:n,val:e})}),t},l.forAll=function(n,t){var e=!0;return l.each(n,function(n,r){return e=t(n,r)}),e},l.objEquals=function(n,t,e){var r,i;return n===t?!0:(e=o(e))?n===t:(r=l.type(n),i=l.type(t),"object"===r||"array"===r?r===i&&l.size(n)===l.size(t)&&l.forAll(n,function(n,r){return l.objEquals(r,t[n],e)}):n===t)},l.size=function(n){return i(n)._size()},l.isEmpty=function(n){return 0===l.size(n)},l.nonEmpty=function(n){return l.size(n)>0},l.containsKey=function(n,t){return i(n)._containsKey(t)},l.containsVal=function(n,t,e){return e=o(e),i(n)._containsVal(t,e)},l.distinctVals=function(n,t){var e=[];return t=o(t),l.each(n,function(n,r){l.containsVal(e,r,t)||e.push(r)}),e},l.loadScript=function(n){function t(n){return function(){o.removeChild(e),n&&n()}}var e,r,o=document.body;return l.isNonZeroLengthString(n.url)||h.raise("loadScript options must have a non-empty url",n),n.cache=!1!==n.cache,n.cache||(n.data&&n.data.hasOwnProperty("_")&&h.error("do not use _ as a parameter name! loadScript will overwrite data._"),n.data=l.extend(n.data,{_:l.now()})),"object"===l.type(n.data)&&(r=n.url.indexOf("?")>-1?"&":"?",n.url+=r+l.param(n.data)),e=document.createElement("script"),e.type="text/javascript",e.async=!0,e.src=n.url,e.onload=t(n.success),e.onerror=t(n.error),void o.appendChild(e)},l.getCookie=function(n){var t=null;return l.each(document.cookie.split("; "),function(e,r){var o=r.indexOf("="),i=r.substr(0,o);return i===n?(t=r.substr(o+1),!1):void 0}),t},l.setCookie=function(n){var t,e,r,o,i;"object"===l.type(n)&&"string"===l.type(n.name)&&"string"===l.type(n.value)&&(t=n.name+"="+n.value,e="string"==typeof n.domain?n.domain:l.parseParentDomain(),l.isNonZeroLengthString(e)&&"localhost"!==e&&(t+=";domain="+e),r=l.isNonZeroLengthString(n.path)?n.path:"/",t+=";path="+r,o=parseInt(n.maxAge),isNaN(o)||(0>=o?o=i=0:i=(new Date).getTime()+1e3*o,t+=";max-age="+o,t+=";expires="+new Date(i).toUTCString()),document.cookie=t)},l.deleteCookie=function(n){"object"===l.type(n)&&l.setCookie({name:n.name,value:"",domain:n.domain,path:n.path,maxAge:0})},function(){var n,t,e;n="\\[]{}()+*?!=^$,.-|:",t="\\"+n.split("").join("\\"),e=new RegExp("(["+t+"])","g"),l.regexSafe=function(n){return n.replace(e,"\\$1")},n=t=null}(),l.parseOrigin=function(n){return n.replace(/^\s*([^:]+:\/\/[^\/\?\#]*).*$/,"$1")},l.parseParentDomain=function(n){var t,e;return n=n||document.location.href,t=l.parseOrigin(n).replace(/^[^:]+:\/\/\/?([^:]*)(:[0-9]+)?$/,"$1"),t===n?(h.error("Could not parse domain from URL "+n),n):(e=/(^localhost$)|([^\.]+\.([^\.]{2}\.)?[^\.]+$)/.exec(t),e?e[0]:(h.error("Could not parse parent domain from domain "+t),t))},l.isNonZeroLengthString=function(n){return"string"===l.type(n)&&n.length>0},l.addParamIfNonZeroLengthString=function(n,t,e){l.isNonZeroLengthString(e)&&(n[t]=e)},l.chooseUri=function(n,t){return"https:"===document.location.protocol?n:t},l.arrayToPairs=function(n){var t={};return l.each(n,function(n,e){t[e]=e}),t},l.param=function(n,t){if("object"!==l.type(n))throw"Invalid argument passed to util.param ["+l.type(n)+"]";var e=[];return l.each(n,function(n,r){var o=l.type(r);l.isPrimitive(r)?e.push(encodeURIComponent(n)+"="+encodeURIComponent(r)):"array"===o&&t?l.each(r,function(t,r){e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):"array"===o||"object"===o?e.push(encodeURIComponent(n)+"="+encodeURIComponent(JSON.stringify(r))):h.raise("Invalid type passed to util.param",n,r)}),e.join("&")},l.deparam=function(n){var t,e,r,o,i,a={},u=n.split("&");for(t=0,e=u.length;e>t;++t)if(r=u[t].split("=",2),2===r.length)try{o=decodeURIComponent(r[0]),i=decodeURIComponent(r[1]),a[o]=i}catch(c){h.warn("Failed to decode query parameters[key="+r[0]+",value="+r[1]+"]")}return a},l.getAttributes=function(n){var t={};return l.each(n.get(0).attributes,function(n,e){t[e.nodeName]=e.nodeValue}),t},l.keyToPrintableCharacter=function(n){var t=String.fromCharCode(n),e=t.charCodeAt(0);return e>=32&&126>=e?t:""},l.arrayIndexOf=function(n,t){var e=-1;return l.each(n,function(n,r){return r===t?(e=n,!1):void 0}),e},l.getQueryParams=function(n){return l.deparam((n||l.getLocationWithoutHash()).split("?",2)[1]||"")},l.getLocationWithoutHash=function(){return document.location.href.split("#",2)[0]},l.getLocationHash=function(){return/^[^#]+#?(.*)$/.exec(document.location.href)[1]},l.isMobileSafari=/mobile.+safari/i.test(navigator.userAgent),l.isTouchSupported="object"==typeof t.Touch,l.syncTiming=function(n){return l.asyncTiming(function(t){var e=n();return{elapsed:t(),result:e}})},l.asyncTiming=function(n){var t=(new Date).getTime();return n(function(){return(new Date).getTime()-t})},l.defaultValue=function(n,t){return n!==e?n:t},l.addIfDefined=function(n,t,r){var o=t[n];o!==e&&(r[n]=o)},l.randomInt=function(n,t){return n+Math.floor((t-n+1)*Math.random())},l.uuid=function(){function n(n){for(var t="",e=0;e<n.length;++e)t+=n[e].toString(16);return t}var e=t.crypto||t.msCrypto;return e&&t.Uint8Array?function(){for(var t=new Uint8Array(16),r=e.getRandomValues(t),o=[],i=0;i<r.length;++i)o.push(12===o.length?4:16===o.length?3&r[0]|8:r[i]>>4),o.push(15&r[i]);return n(o.splice(0,8))+"-"+n(o.splice(0,4))+"-"+n(o.splice(0,4))+"-"+n(o.splice(0,4))+"-"+n(o)}:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){return("x"===n?l.randomInt(0,15):8|l.randomInt(0,3)).toString(16)})}}(),l.each=function(n,t){n&&i(n)._each(t)},l.eachReverse=function(n,t){n&&i(n)._eachReverse(t)},l.usesStrictKeys=function(n){return i(n)._strictKeys},l.extend=function(n){var t=l.slice(arguments,1);return n=n||{},l.each(t,function(t,e){e&&l.each(e,function(t,e){n[t]=e})}),n},l.slice=function(n){return l.isArrayLike(n)||h.raise("You must provide an array-like object to util#slice"),y.apply(n,y.call(arguments,1))},l.last=function(n){return l.isArrayLike(n)||h.raise("You must provide an array-like object to util#last"),n[n.length-1]},l.drop=function(n,t){return l.isArrayLike(n)||h.raise("You must provide an array-like object to util#drop"),t===e&&(t=1),y.call(n,Math.max(0,t))},l.dropRight=function(n,t){return l.isArrayLike(n)||h.raise("You must provide an array-like object to util#dropRight"),t===e&&(t=1),t=n.length-t,y.call(n,0,Math.max(0,t))},l.pad=function(n){return("number"!==l.type(n)||0>n||n%1!==0)&&h.raise("util.pad called with non-natural number:",n),10>n&&"0"+n||n.toString()},/*! Adapted from: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString
   *  Any copyright is dedicated to the Public Domain. http://creativecommons.org/publicdomain/zero/1.0/ */
l.isoDateString=function(){var n=l.pad,t=new Date;return t.getFullYear()+"-"+n(t.getMonth()+1)+"-"+n(t.getDate())+" "+n(t.getHours())+":"+n(t.getMinutes())+":"+n(t.getSeconds())+"."+(t.getMilliseconds()/1e3).toFixed(3).slice(2)},l.now=function(){return(new Date).getTime()},l.isNaN=function(n){return"number"===l.type(n)&&isNaN(n)},l.isPrimitive=function(n){var t=l.type(n);return"boolean"===t||"number"===t||"string"===t},/*!
   * Start of code derived from jQuery
   */
/*!
   * jQuery JavaScript Library v1.8.3
   * http://jquery.com/
   *
   * Includes Sizzle.js
   * http://sizzlejs.com/
   *
   * Copyright 2012 jQuery Foundation and other contributors
   * Released under the MIT license
   * http://jquery.org/license
   *
   * Date: Tue Nov 13 2012 08:20:33 GMT-0500 (Eastern Standard Time)
   */
function(){var n,t,e=Object.prototype.toString,r={},o="Boolean Number String Function Array Date RegExp Object".split(" ");for(n=0;n<o.length;++n)t=o[n],r["[object "+t+"]"]=t.toLowerCase();l.type=function(n){return null==n?String(n):r[e.call(n)]||"object"}}(),l.isPlainObject=function(n){return!(!n||"object"!==l.type(n)||n.constructor!==Object)},l.isArray=function(n){return"array"===l.type(n)},l.isFunction=function(n){return"function"===l.type(n)},/*!
   * End of code derived from jQuery
   */
l.isConstructor=function(n){try{return!0}catch(t){return!1}},l.capitalize=function(n){return n.charAt(0).toUpperCase()+n.substr(1)},l.camelCase=function(){var n=/-(\w)/g;return function(t){return t.toLowerCase().replace(n,function(n,t){return t.toUpperCase()})}}(),l.find=function(n,t){var r=e;return l.each(n,function(n,e){return t(n,e)?(r={key:n,val:e},!1):void 0}),r},l.head=function(n){var t;if(n!==e){if(t=i(n),!t._isSorted)throw new Error("TFCApp.util.head is not intended for unordered inputs");return l.find(t,function(){return!0})}return e},l.each(["find","head"],function(n,t){u(t,"key"),u(t,"val")}),l.readOnly=function(n){return"object"===l.type(n)&&l.isFunction(Object.defineProperty)&&l.each(n,function(t){Object.defineProperty(n,t,{writable:!1})}),n},l.hashKey=function(n){var t,e,r,o=l.type(n);switch(o){case"array":return t=l.map(n,function(n,t){return l.hashKey(t)}),"["+t.join(",")+"]";case"object":return e=l.objKeys(n).sort(),r=l.map(e,function(t,e){return JSON.stringify(e)+":"+l.hashKey(n[e])}),"{"+r.join(",")+"}";case"date":return n.toUTCString();case"string":return JSON.stringify(n);case"null":case"undefined":return o;case"boolean":case"number":case"regexp":case"function":return n.toString()}},l.isArrayLike=function(n){return!(!n||"number"!==l.type(n.length))},/*!
   * Code in this section is derived from underscore.js
   *
   *     Underscore.js 1.8.3
   *     http://underscorejs.org
   *     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *     Underscore may be freely distributed under the MIT license.
   */
l.debounce=function(n,t,e){var r,o,i,a,u,c=function(){var s=l.now()-a;t>s&&s>=0?r=setTimeout(c,t-s):(r=null,e||(u=n.apply(i,o),r||(i=o=null)))};return function(){i=this,o=arguments,a=l.now();var s=e&&!r;return r||(r=setTimeout(c,t)),s&&(u=n.apply(i,o),i=o=null),u}},/*!
   End underscore.js code
   */
l.each({max:-1/0,min:1/0},function(n,t){l[n]=function(e,o){var i=t,a=null;return o=o||r,l.each(e,function(e,r){var u=o(e,r);(u!==i&&Math[n](i,u)===u||u===t&&null===a)&&(i=u,a={key:e,val:r},a[n]=u)}),a},l[n+"Val"]=function(t,e){var r=l[n](t,e);return r&&r[n]}}),l.requestAnimationFrame=(t.requestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||t.mozRequestAnimationFrame||function(n){return setTimeout(n,1e3/60)}).bind(t),l.round=function(n,t){t=t||0;var e=Math.pow(10,t);return Math.round(n*e)/e},l.retry=function(n,t,e){function r(i){10>i?(o=(new Date).getTime(),n(function(){t()},function(){var n=100*(1<<i-1),t=(new Date).getTime()-o,e=n-t;setTimeout(function(){r(++i)},Math.max(0,e))})):e()}var o;r(1)},l.isRealMouseEvent=function(n){return n.isTrusted===!1?!1:!(0===n.screenX&&0===n.screenY&&0===n.clientX&&0===n.clientY)}}(TFCApp,window,void 0);
!function(t){"use strict";var e=t.util,n={post:function(t,n,i,s,o){var a,r,u;a=e.isPlainObject(i)||e.isArray(i)?JSON.stringify(i):i,e.isNonZeroLengthString(n)&&(e.isNonZeroLengthString(t)||void 0===t)&&(u=new XMLHttpRequest,"withCredentials"in u?(r=n,u.open("POST",r,!0),u.setRequestHeader("Content-Type","application/json; charset=UTF-8")):"undefined"!=typeof XDomainRequest&&(u=new XDomainRequest,r=e.chooseUri(n,t),u.open("POST",r))),u&&(u.send(a),s&&o&&(u.onreadystatechange=function(){4===u.readyState&&(u.status>=200&&u.status<300?s(u):o(u))}))}};t.utility.Http=n}(TFCApp);
!function(t){"use strict";function n(){for(var t="",n=0;I>n;n++)t+="  ";return t}function e(t,e,r){var i=!0,u=T.slice(arguments,3),s=u.length>1;return T.each(u,function(r,o){var c,p=t[r];if(o instanceof a){if(!o.test(p))return c=["Invalid argument(s) passed to "+(e||"function")+". \nExpected type"+(s?"s":"")+":(",T.map(u,function(t,e){return"\n"+n()+e.expected()}),"\n)\nbut got:\n"],i=[c.join(""),t,". Additionally, Function.prototype.bind=",Function.prototype.bind.toString()],!1}else S.raise("Invalid argument passed to TFCApp.checkArgs (curry 2)")}),r(i)}function r(t,n,r){return T.isArrayLike(t)&&(void 0===n||T.isNonZeroLengthString(n))?e.bind(null,t,n,r):void S.raise("Invalid argument passed to TFCApp.checkArgs (curry 1)")}function i(t,n){return r(t,n,function(t){return t!==!0&&(S.error.apply(S,t),S.raise("Invalid arguments found by checkArgs. See error log.")),t})}function u(t,n){return r(t,n,function(t){return t!==!0&&S.error.apply(S,t),t})}function s(t,n){(!T.isArray(t)||t.length<2||!o(t))&&S.raise(n+" requires an array of at least two types as its type")}function o(t){var n=T.isPlainObject(t)||T.isArray(t);return n&&T.each(t,function(t,e){return e instanceof a?void 0:(n=!1,!1)}),n}var c,a,p,_,f,l,h,d,y,g,v,x,m,w,b,A,j=t.Class,O=j.unimplemented,T=t.util,S=t.utility.Logger.getLogger("TypeHelper"),I=1;a=j.extend({_constructor:function(t,n,e){this._type=t,this.__not=!!n,this.__optional=!!e},not:function(){return new(this._class())(this._type,!this.__not,this.__optional)},optional:function(){return new(this._class())(this._type,this.__not,!0)},test:function(t){return this.__optional&&void 0===t||this.__not&&!this._test(t)||!this.__not&&this._test(t)},_test:O,expected:function(){var t=(this.__not?"not ":"")+this._expected();return this.__optional?"optional("+t+")":t},_expected:O,_class:O,_type:null,__not:null,__optional:null}),p=a.extend({_test:function(t){return T.type(t)===this._type},_expected:function(){return this._type},_class:function(){return p}}),l=p.extend({_constructor:function(t,n,e){this._super("number",n,e)},_class:function(){return l},fromString:function(t){i(arguments)(c.String);var n=parseFloat(t);return isFinite(n)?n:void 0}}),h=l.extend({_test:function(t){return this._super(t)&&t%1===0},_expected:function(){return"integer"},_class:function(){return h},fromString:function(t){i(arguments)(c.String);var n=this._super(t);return this._test(n)?n:void 0}}),d=p.extend({_constructor:function(t,n,e){this._super("boolean",n,e)},_class:function(){return d},fromString:function(t){switch(i(arguments)(c.String),t){case"true":return!0;case"false":return!1}return void 0}}),y=p.extend({_constructor:function(t,n,e){this._super("string",n,e)},_class:function(){return y},fromString:function(t){return i(arguments)(c.String),t}}),g=p.extend({_constructor:function(t,n,e){this._super("array",n,e)},_class:function(){return g}}),w=a.extend({_constructor:function(t,n,e){s(t,"TupleType"),this._super(t,n,e)},_test:function(t){var n=T.isArray(t)&&t.length===this._type.length;return n&&T.each(this._type,function(e,r){return r.test(t[e])?void 0:(n=!1,!1)}),n},_expected:function(){var t=T.map(this._type,function(t,n){return n.expected()});return"Tuple"+t.length+"["+t.join(", ")+"]"},_class:function(){return w}}),b=a.extend({_constructor:function(t,n,e){s(t,"OrType"),this._super(t,n,e)},_test:function(t){var n=!1;return T.each(this._type,function(e,r){return r.test(t)?(n=!0,!1):void 0}),n},_expected:function(){var t=T.map(this._type,function(t,n){return n.expected()});return"one of ("+t.join(", or ")+")"},_class:function(){return b}}),A=a.extend({_constructor:function(n,e,r){var i=t.type.Tuple(t.type.Or(t.type.Instance(g),t.type.Instance(v)),t.type.Instance(a));i.test(n)||S.raise("OfType requires "+i.expected()+" as its type"),this._super(n,e,r)},_test:function(t){var n=this._type,e=n[0].test(t);return e&&T.each(t,function(t,r){return n[1].test(r)?void 0:(e=!1,!1)}),e},_expected:function(){var t=this._type;return t[0].expected()+" of "+t[1].expected()},_class:function(){return A}}),_=p.extend({_constructor:function(t,n,e){var r=T.isPlainObject(t);r&&T.each(t,function(t,n){return n instanceof a?void 0:(r=!1,!1)}),r||S.raise("ObjectType type argument must be a plain object with Type values"),this._super(t,n,e)},_test:function(t){var n=T.isPlainObject(t);return n&&T.each(this._type,function(e,r){return r.test(t[e])?void 0:(n=!1,!1)}),n},_expected:function(){var t=[];return I++,T.each(this._type,function(e,r){t.push(n()+e+":"+r.expected())}),I--,"{\n"+t.join(", \n")+"\n"+n()+"}"},_class:function(){return _}}),v=_.extend({_constructor:function(t,n,e){this._super({},n,e)},_expected:function(){return"object"},_class:function(){return v}}),f=a.extend({_constructor:function(t,n,e){T.isConstructor(t)||S.raise("InstanceType type argument must be a function/constructor"),this._super(t,n,e)},_test:function(t){return t instanceof this._type},_expected:function(){return"instance of "+(this._type.name||"anonymous")},_class:function(){return f}}),m=a.extend({_test:function(){return!0},_expected:function(){return"any"},_class:function(){return m}}),x=new p("function"),c={Any:new m,Null:new p("null"),Boolean:new d,Number:new l,Integer:new h,String:new y,Function:x,Array:new g,PlainObject:new v,Promise:new _({then:x}),Object:function(t){return new _(t)},Instance:function(t){return new f(t)},Tuple:function(t){return t=T.slice(arguments),new w(t)},Or:function(t){return t=T.slice(arguments),new b(t)},ArrayOf:function(t){return new A([c.Array,t])},ObjectOf:function(t){return new A([c.PlainObject,t])}},t.type=c,t.checkArgs=i,t.checkArgsSoft=u}(TFCApp);
!function(e){"use strict";e.FitRecUtil={animateFitScore:function(t,c,i,s,n){function r(){setTimeout(function(){d.text(s[a]),u.text(n[a]),f.hide().show(0)},1),m.animate({opacity:1},o/2)}var o=i||500,a=this.fitDescriptionKey(c),f=e.extLibs(".tfc-fitrec-result",t),d=e.extLibs(".tfc-fit-score-description",f),u=e.extLibs(".tfc-fit-score-description-legacy",f),m=e.extLibs(".tfc-fit-score",f),l=e.extLibs(".tfc-fit-score-background",f),p=e.extLibs(".tfc-fit-score-foreground",l),x=c/5*100+"%";d.text(""),m.text(""),p.css("width",""),this.recommended(c)?f.removeClass("tfc-not-recommended"):f.addClass("tfc-not-recommended"),p.length?p.css("width","0%").animate({width:x},o,r):r()},fitDescriptionKey:function(e){switch(parseFloat(e)){case 5:case 4.5:case 4:return"excellentFit";case 3.5:case 3:return"goodFit";case 2.5:case 2:case 1.5:case 1:case.5:case 0:return"notRecommended";default:return""}},recommended:function(e){return"undefined"!=typeof e&&parseFloat(e)>=3},evalTemplate:function(t,c){var i,s,n="img[src]";if("boolean"!=typeof c&&(c=!1),"string"==typeof t)try{i=e.extLibs.parseHtml(t)}catch(r){}return void 0===i&&(i=e.extLibs()),c&&(s=i.filter(n),i.each(function(e,t){s=s.add(n,t)}),s.each(function(t,c){var i=new Image;i.src=e.extLibs(c).attr("src")})),i}}}(TFCApp);
!function(){"use strict";TFCApp.Signal=TFCApp.Class.extend({_constructor:function(){this._slots=[]},listen:function(t){if("function"!=typeof t)throw"Slot passed into Signal.listen must be a function";this._slots.push(t)},unlisten:function(t){var n,s,i=null,l=this._slots;if("function"!=typeof t)throw"Slot passed into Signal.unlisten must be a function";for(n=0,s=l.length;s>n;++n)if(l[n]===t){i=n;break}null!==i&&l.splice(i,1)},trigger:function(){for(var t=0;t<this._slots.length;++t)this._slots[t].apply(null,arguments)},_slots:null})}();
/*!
 * jQuery postMessage - v0.5 - 9/11/2009
 * http://benalman.com/projects/jquery-postmessage-plugin/
 *
 * Copyright (c) 2009 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
!function(n,e,t){"use strict";var r,i=1,a=n.util,o=n.type,s=!!e.postMessage,g=n.Constants.RequestParameter.WindowParams;r={postMessage:function(e,t,r,i,a){if(n.checkArgs(arguments)(o.Any,o.String,o.String,o.String,o.PlainObject.optional()),t&&r){var g={sourceWindowId:r,message:i,data:a};s&&e.postMessage(JSON.stringify(g),t)}},receiveMessage:function(t,i,a){n.checkArgs(arguments)(o.Function,o.String,o.String);var g;s&&(g=function(n){var e;return n.origin!==i&&n.origin+":80"!==i?!1:(e=JSON.parse(n.data),e.sourceWindowId!==a&&r.globalWindowId()!==a?!1:void t(e.message,e.data))},e.addEventListener?e.addEventListener("message",g,!1):e.attachEvent("onmessage",g))},generateWindowParams:function(e){return n.checkArgs(arguments)(o.String),g+"="+encodeURIComponent(e+"!"+a.parseOrigin(t.URL))},parseWindowParams:function(){var n=/^([^!]+)!(.*)$/.exec(a.deparam(a.getLocationHash())[g]),e=n&&n[1],t=n&&n[2];return{sourceWindowId:e||"",retailerOrigin:t||""}},globalWindowId:function(){return"*"},retailerWindowId:function(){return"O"},fitProfileWindowId:function(){return"R"},nextWindowId:function(){return(i++).toString()}},n.postMessageManager=r}(TFCApp,window,document);
!function(e){"use strict";var s=e.Class,a=s.unimplemented,n=s.extend({userSession:a,setSessionParams:a,getSessionParams:a,setSessionParamsMaxAge:a});e.CookieHelper=n}(TFCApp);
!function(t){"use strict";var n=t.util,r=window.history,a=["pushState","replaceState"],e=r&&n.forAll(a.concat("state"),function(t,n){return n in r});t.history=e?r:n.extend({state:null},n.map(n.arrayToPairs(a),function(){return n.noop}))}(TFCApp);
!function(e){"use strict";function t(t){e.checkArgs(arguments)(g.String);var n=o.getCookie(t);return n?JSON.parse(decodeURIComponent(n)):{}}function n(t,n,r){e.checkArgs(arguments)(g.String,g.PlainObject,g.Integer.optional());var i,s;o.isEmpty(n)?o.deleteCookie({name:t}):(i=encodeURIComponent(JSON.stringify(n)),s=t.length+i.length,s>4096?a.error("Attempt to save cookie ["+t+"] larger than 4096 bytes ["+s+"]. This is not supported by some browsers."):s>500&&a.warn("Attempt to save cookie ["+t+"] larger than 500 bytes ["+s+"]. Consider reducing the amount of data being stored."),o.setCookie({name:t,value:i,maxAge:r}))}function r(t,r){e.checkArgs(arguments)(g.PlainObject,g.PlainObject),n(c,t,u),n(l,r)}var i,s=e.utility,o=e.util,g=e.type,a=s.Logger.getLogger("Storage"),c="tfc-l",l="tfc-s",u=31536e4,d={Analytics:"a",UserVisit:"v",UserSettings:"s",User:"u",Test:"t"},f={};f[d.Analytics]="tfcAnalytics",f[d.UserVisit]="tfcUserVisit",f[d.UserSettings]="tfcUserSettings",f[d.User]="_tfcUserCookie",i={get:function(n){e.checkArgs(arguments)(g.String);var r=t(c),s=t(l),a=f[n],u=a?o.getCookie(a):null;return n in r?r[n].e<=o.now()/1e3?(i["delete"](n),null):r[n].v:n in s?s[n]:u},set:function(n,s,a){e.checkArgs(arguments)(g.String,g.Or(g.String,g.PlainObject),g.Or(g.Null,g.Integer).optional());var u=t(c),d=t(l),m=f[n];if(m&&o.deleteCookie({name:m}),g.Integer.test(a)){if(0>=a)return void i["delete"](n);delete d[n],u[n]={v:s,e:parseInt(o.now()/1e3+a)}}else delete u[n],d[n]=s;r(u,d)},"delete":function(n){e.checkArgs(arguments)(g.String);var i=t(c),s=t(l),a=f[n];a&&o.deleteCookie({name:a}),delete i[n],delete s[n],r(i,s)},enabled:function(){var e,t=d.Test;return i.set(t,"x"),e="x"===i.get(t),i["delete"](t),e},isLegacy:function(t){return e.checkArgs(arguments)(g.String),!(null===o.getCookie(f[t]))},keys:d},s.Storage=i}(TFCApp);
!function(o){"use strict";var n,e=o.util;n=o.Class.extend({_constructor:function(){var o=this;e.each({openPrivacyPolicy:"privacy-policy",openTermsOfUse:"terms"},function(n,e){o[n]=function(n,t){var i=n+"/ux/"+e+(t?"_"+t:"")+".html";o.openPopup(i,"infopopup")}})},openPopup:function(o,n){var t={menubar:"0",toolbar:"0",location:"0",directories:"0",status:"0",scrollbars:"1",resizable:"0",dependent:"0",width:"820",height:"600",left:"100",top:"100"},i=[];e.each(t,function(o,n){i.push(o+"="+n)}),window.open(o,n,i.join(","))}}),o.popupManager=new n}(TFCApp);
!function(e){"use strict";var s=e.util;e.FitRecResponse={save:function(e){this._response=e},getWidgetResults:function(e){var t=this._response,r=t&&t[e];return r&&(r=s.extend({},r,{tfpUser:t.tfpUser,extraClasses:t.extraClasses,userFlags:t.userFlags,locale:t.locale})),r},getLocale:function(){return this._response&&this._response.locale},getStoreUserId:function(){return this._response&&this._response.storeUserId},getResponse:function(){return this._response},_response:null}}(TFCApp);
!function(e,t){"use strict";function i(){var e=u.getQueryParams(),t=null;return u.each(e,function(e,i){u.stringStartsWith(e,"tfc-")&&(t=t||{},t[e.substr(4)]=i)}),t}function n(e,t,i){e[i]=function(){if(!t.legacyEventApiEnabled)throw"Legacy True Fit API (tfc."+i+") is not supported for this retailer";return e["__"+i].apply(e,arguments)}}function a(e){var t={};return t[m.Widget]=[],u.reduce(e,function(e,t,i){var n=i.preCall();return i.getNodes().length>0&&(e[m.Widget].push(i.widgetName),u.each(n,function(t,i){e[t]=(e[t]||[]).concat(i)})),e},t)}function r(e,t,i,n){var a=u.partition(i,function(e){return e===m.Style});u.loadScript({url:e+"/fitrec/"+t+"/fit?"+u.param(a["false"],!0)+"&"+u.param(a["true"],!0),error:n})}function s(e,t,i,n,a,r,s){u.loadScript({url:e+"/fitresources/"+t+"/"+(""===i?"0.0":i)+"/"+(""===n?"0.0":n)+"/"+r+(g(a)?"/"+a:"")+"/templates.js",data:s,cache:!0})}function o(e){return u.filter(e,function(e,i){return i instanceof t.widget.FitRecs})}function l(e,i,n){return function(a){var r,s=u.findVal(i,function(e,t){return t.widgetName===a});s?(r=c.Function.test(n)?n(s):n,t.checkArgsSoft(arguments,"True Fit "+e+" ("+a+")").apply(null,[c.String].concat(r))&&s[e].apply(s,u.slice(arguments,1))):S.error("Invalid widget name passed to the True Fit "+e+" API ["+a+"]")}}var c=t.type,u=t.util,g=u.isNonZeroLengthString,d=u.addParamIfNonZeroLengthString,p=t.analytics,f=t.postMessageManager,h=t.Constants,m=h.RequestParameter,y=[m.Widget,m.Style],S=t.utility.Logger.getLogger("FitRecService"),v=["calculate","event","update","getProfileUrl"],P=t.FitRecResponse;t.FitRecService=function(e,T){function w(){var e=U.shift();L=!1,void 0!==e&&tfc.__calculate.apply(tfc,e)}function A(e){return u.findVal(e,function(e,t){return g(t)})}function C(e){var t,i=o(I);return u.each(i,function(i,n){u.each(n.getCurrentFitResults(),function(i,n){t||null===t?n[e]!==t&&(t=null):t=n[e]})}),t}var I=[],R=t.cookieHelper,b=new t.UserVisitTracker,L=!1,U=[],k=!0,F=!1,M=u.stringToBool(e.shimQueryParams[m.AutoCalculate]||"true"),V=e.storeKey,W=e.widgetDeviceType,x=e.serviceMode,N={},E=this;e.userVisitTracker=b,e.userSettings=T,function(){function i(e,t,n){u.each(n,function(n,a){var r,s=e[n],o=u.type(s),l=u.type(a);o!==l?S.error("Attempted to update config with an invalid type (key="+n+",oldType="+o+",newType="+l+")"):"object"===l?i(s,t[n],a):n in t?(r=t[n],r===!0||r(s,a)?e[n]=a:S.error("Attempted to update config with an invalid value (key="+n+",oldValue="+s+",newValue="+a+")")):S.error("Attempted to update config setting that does not allow updating (key="+n+")")})}t.updateConfig=i.bind(null,e,{tipConfig:{eventLevel:function(e,i){return t.tips.TipEventLevel[i]<=t.tips.TipEventLevel[e]},pageLoads:!0,hideDelay:!0}})}(),f.receiveMessage(function(e,t){if(c.PlainObject.test(t))switch(e){case h.Message.UserSession:R.userSession(t.value,t.maxAge);break;case h.Message.SessionParams:R.setSessionParams(t.sessionParams);break;case h.Message.SessionParamsMaxAge:R.setSessionParamsMaxAge(t&&t.maxAge)}},e.cdnProfileURI,f.globalWindowId()),u.each(t.widget,function(i,n){var a;u.isFunction(n)&&n.isSubClassOf&&n.isSubClassOf(t.widget.BaseWidget)&&!n.isAbstract&&(I.push(a=new n(e)),N=u.extend(N,a.expectedUpdateTypes()))}),this.__calculate=function(n,o){var l,g,f,h,v,P,A,C=o===!0||o&&o.initialCall,b=o&&o.isEnteringData,k=i(),E=t.utility.Storage;if(!C||!F&&M){if(F=!0,L)return void U.push(arguments);M&&void 0!==n&&S.warn("Retailer is using the dynamic calculate API, but autoCalculate is true"),t.checkArgsSoft(arguments,"True Fit calculate")(c.Object(N).optional())&&u.each(I,function(e,t){t.update(n)}),f=a(I),u.isEmpty(f[m.Widget])||(l={},u.each(f,function(e,t){var i=u.distinctVals(t);u.containsVal(y,e)?l[e]=i:(l[e]=i[0],i.length>1&&S.error("Expected one distinct value for the ["+e+"] parameter, but got",i))}),h=l[m.Locale]||"",v=e.tfAnalytics,v||(e.tfAnalytics=v=new p.FitRecTrueFitAnalytics(R,e.analyticsArgs,h,e.responsiveManager.currentScreenSize()),e.analyticsManager.addEngine(v.getEngine())),d(l,m.JavascriptIntegrated,"true"),d(l,"_",u.now().toString()),d(l,m.DeviceType,W),d(l,m.AnalyticsScreenSize,v.screenSize()),d(l,m.UserSession,R.userSession()),d(l,m.SessionParams,T.get(t.UserSettings.keys.SessionParams)),d(l,m.SessionParamOverrides,k&&u.param(k)),d(l,m.ServiceMode,x),d(l,m.IsEnteringData,b&&b.toString()),d(l,m.UserHasLegacyCookie,E.isLegacy(E.keys.User).toString()),P=!!u.find(I,function(e,t){return t.isVisible&&t.getNodes().length>0}),A=u.chooseUri(e.serviceSecureURI,e.serviceURI),this.templatesHelper.update(h,P),this.templatesHelper.hasRequiredTemplates()||(g={},d(g,m.ServiceMode,x),s(A,V,e.uxVersion,e.storeVersion,h,W,g)),L=!0,v.getEngine().withTracker(function(e){r(A,V,u.extend(e.touchAndGetParams(),l),w)})||r(A,V,l,w))}},this.__update=l("update",I,function(e){return[c.Object(e.expectedUpdateTypes())]}),this.__event=l("event",I,[c.String,c.Function]),this.templatesHelper={templates:null,callback:null,locale:null,visibleWidgetsOnPage:!1,update:function(e,t){this.visibleWidgetsOnPage=t,e!==this.locale&&(this.locale=e,this.templates=null)},hasRequiredTemplates:function(){return this.templates||!this.visibleWidgetsOnPage},onRequiredTemplatesReady:function(e){this.callback&&S.error("Attempted to set up templates callback, but it already exists"),this.hasRequiredTemplates()?e():this.callback=e},setTemplates:function(e){this.templates=e,u.each(I,function(t,i){i.setTemplates(e)}),this.callback&&(this.callback(),this.callback=null)}},this.processTemplates=function(e){this.templatesHelper.setTemplates(e.templates)},this.process=function(i){P.save(i),this.templatesHelper.onRequiredTemplatesReady(function(){var n=[];u.each(I,function(t,a){a.onFitCallResponse(i);var r=a.widgetName;if(r in i){var s=P.getWidgetResults(r);a.postCall(s),e.analyticsManager.handlePageLoad({isInitialProfileComplete:i.tfpUser.isInitialProfileComplete,pageName:r,funnels:[]}),n.push(a.widgetName)}}),k&&(b.trackVisits(n),t.preLoadFitProfile(b,e,n),k=!1),w()})},this.__getProfileUrl=function(i){function n(e,t){return g(t)?(y+="&"+e+"="+encodeURIComponent(t),!0):!1}function a(e,t){"undefined"==typeof t&&S.raise("Undefined Request Parameter"),y+="&"+e+"="+encodeURIComponent(t)}var r,s,l,c,d,p,y=e.cdnProfileURI+e.uxVersionPath+"/resources/fitprofile/index.html#/",v=R.userSession(),w=e.defaultConfig,b=P.getLocale(),L=P.getStoreUserId();if("object"!=typeof i&&(i={}),r=A([i.container,h.Container.Modal]),s=A([i.windowId,f.fitProfileWindowId()]),r!==h.Container.Modal&&s===f.fitProfileWindowId())throw"Called getProfileUrl for a window that is not the account window, and the window ID was invalid";return y+=m.StoreTla+"="+V,c=g(i.userId)?i.userId:g(L)?L:null,c&&(y+="&"+m.UserId+"="+c),n(m.UserSession,v),n(m.ServiceSecureURI,e.serviceSecureURI),n(m.StoreVersionPath,e.storeVersionPath),n(m.DeviceType,W),n(m.AnalyticsScreenSize,e.tfAnalytics.screenSize()),n(m.Gender,A([i.gender,C("gender"),w.gender])),n(m.Category,i.category),n(m.IPS,i.ips),n(m.FirstName,i.firstName),n(m.AlternateUserId,i.alternateUserId),n(m.Placement,i.placement),n(m.ServiceMode,x),n(m.Locale,b),n(m.StoreRegistered,i.registered),n(m.OriginWidget,i.originWidget),n(m.SourceTrigger,i.sourceTrigger),n(m.Container,r),n(m.SessionParams,T.get(t.UserSettings.keys.SessionParams)),n(m.StyleColorId,i.styleColorId),n(m.AnalyticsArgs,JSON.stringify(e.analyticsArgs)),n(m.UniversalAnalyticsArgs,JSON.stringify(e.universalAnalyticsArgs)),e.responsiveManager&&n(m.ScreenSize,e.responsiveManager.currentScreenSize()),e.customProfileJsEnabled&&n(m.CustomProfileJs,e.customProfileJsEnabled.toString()),u.each(e.thirdPartyAuth,function(e,t){n(e+"ClientId",t)}),e.tfAnalytics.getEngine().withTracker(function(e){y+="&"+u.param(e.touchAndGetParams())}),"string"==typeof i.availableSizes&&(y+="&"+m.AvailableSizes+"="+encodeURIComponent(i.availableSizes)),l=A([i.department,C("department")]),n(m.Department,l),n(m.ProductType,A([i.productType,C("productType"),w.productType[l]])),a(m.ClientToServerLoggingLevel,e.clientToServerLoggingLevel),a(m.LoggingTimeoutDelay,e.loggingTimeoutDelay),a(m.PostRequestLimit,e.postRequestLimit),a(m.ClientLogLimit,e.clientLogLimit),a(m.LoggingContextLimit,e.loggingContextLimit),g(i.styleId)?d=[i.styleId]:(d=[],u.each(o(I),function(e,t){u.each(t.getCurrentFitResults(),function(e,t){d.push(t.id)})}),d=u.distinctVals(d)),d.length&&(n(m.Style,JSON.stringify(d)),1===d.length&&(u.each(o(I),function(e,t){return p?!1:void u.each(t.getCurrentFitResults(),function(e,t){return d[0]===t.id?(p=t,!1):void 0})}),p&&n(m.FitRecResult,JSON.stringify(p)))),y+="&"+f.generateWindowParams(s)},u.each(v,function(t,i){n(E,e,i)}),this._widgets=I}}(tfcJQuery,TFCApp);
!function(t){t.tfcapiSetup=function(i,e,n){function a(){p.each(r,function(t,i){var a=i[0],l=p.slice(i,1);p.containsVal(e,a)?n["__"+a].apply(n,l):c.error("Retailer attempted to call non-existent True Fit API function: "+a)}),r=[],u=null}var l,r,o=window.tfcapi,u=null,c=t.utility.Logger.getLogger("tfcapi"),s=t.type,p=t.util;i&&"tfcapi"in window&&c.warn("Retailer initialized the tfcapi object, but the legacy integration is still enabled for this retailer. True Fit should disable the legacy integration if the retailer is no longer using it."),s.Function.test(o)&&s.Array.optional().test(o.q)?(window.tfcapi=l=function(){r.push(arguments),null===u&&(u=setTimeout(a,1))},r=o.q||[],a()):i||c.error("Retailer loaded True Fit without properly initializing the tfcapi object. This usually means that True Fit disabled the legacy integration for this retailer, but the retailer is still using it.")}}(TFCApp);
!function(e){"use strict";var s=e.utility.Storage,t=s.keys.User,i=e.utility.Logger.getLogger("FitRecCookieHelper"),r=e.CookieHelper.extend({_constructor:function(e){this._userSettings=e},userSession:function(e,r){return i.trace("FitRecCookieHelper.userSession("+e+","+r+")"),void 0===e?s.get(t):(s.set(t,e,r),e)},setSessionParams:function(s){i.trace("FitRecCookieHelper.setSessionParams("+s+")"),this._userSettings.set(e.UserSettings.keys.SessionParams,s)},getSessionParams:function(){return this._userSettings.get(e.UserSettings.keys.SessionParams)},setSessionParamsMaxAge:function(e){i.trace("FitRecCookieHelper.setSessionParamsMaxAge("+e+")"),this._userSettings.setMaxAge(e)},_userSettings:null});e.FitRecCookieHelper=r}(TFCApp);
!function(t,e){"use strict";var n=e.util,r=e.type,i=e.Constants,a=e.FitRecResponse,s=i.Attributes,o=i.RequestParameter,c=e.utility.Logger.getLogger("True Fit Widget"),l={},u={};l[s.STORE_REGISTERED]=o.StoreRegistered,l[s.USER_ID]=o.UserId,l[s.USERID]=o.UserId,l[s.ALT_USER_ID]=o.AlternateUserId,l[s.LOCALE]=o.Locale,l[s.STYLE_ID]=o.Style,l[s.CONTEXT]=o.WidgetContext,l[s.ORDER_ID]=o.OrderId,u.registered=s.STORE_REGISTERED,u.userId=s.USERID,u.locale=s.LOCALE,u.colorId=s.STYLE_COLOR_ID,u.availableSizes=s.AVAILABLE_SIZES,u.orderId=s.ORDER_ID;var d=e.Class.extend({context:null,eventHash:null,templates:null,widgetName:null,isVisible:!0,event:function(t,r){var i;if("string"==typeof t)if(n.isFunction(r))t in this.eventHash||(this.eventHash[t]=new e.Signal),this.eventHash[t].listen(r);else if(i=this.eventHash[t]){var a=n.slice(arguments,1);try{i.trigger.apply(i,a)}catch(s){c.error("Exception was thrown by retailer code when processing the ("+this.widgetName+","+t+') event. The underlying exception was: "'+(s&&s.message?s.message:"")+'"\n'+(s&&s.stack?s.stack:""))}}},preCall:function(){var e=this,r={};return e.getNodes().each(function(){var i=t(this);n.each(e._preCallAttrs(),function(t,n){n in l?e._addParam(i,n,l[n],r):c.error("Attempted to add attribute ["+n+"] to the preCall, but failed to look up the corresponding request parameter",l)})}),r},postCall:function(){},onFitCallResponse:function(){},setTemplates:function(t){this.templates=t[this.widgetName]||{}},_constructor:function(t){this.context=t,this.eventHash={}},_supportedAttrs:function(){return[s.STORE_REGISTERED,s.USER_ID,s.USERID,s.ALT_USER_ID,s.LOCALE]},_preCallAttrs:function(){return this._supportedAttrs()},expectedUpdateTypes:function(){return{locale:r.String.optional(),userId:r.String.optional(),registered:r.Boolean.optional()}},update:function(t){var e,r=this;t&&(e=r.getNodes(),n.each(t,function(t,n){r._updateAttr(e,t,n)}))},_updateAttr:function(t,e,r){var i=u[e];i&&n.containsVal(this._supportedAttrs(),i)&&(null===r?t.removeAttr(i):void 0!==r&&t.attr(i,r))},_addParam:function(n,r,i,a){e.checkArgs(arguments)(e.type.Instance(t),e.type.String,e.type.String,e.type.Instance(Object));var s=n.attr(r);s&&(a[i]=(a[i]||[]).concat(s))},getNodes:function(){return t("."+this.widgetName)},_getLocaleCode:function(){return a.getLocale()}});e.widget=function(t,n){if(e.checkArgs(arguments)(e.type.Object({isAbstract:e.type.Boolean.optional(),widgetName:e.type.String}),e.type.Function.optional()),!t.widgetName)throw"Widget name required and cannot be an empty string";var r,i=n||d;return e.widget[t.className]=r=i.extend(t),r.isAbstract=!!t.isAbstract,r.WIDGET_NAME=t.widgetName,r},d.isAbstract=!0,e.widget.BaseWidget=d}(tfcJQuery,TFCApp);
!function(e){"use strict";function n(n,r){function t(e,n){return{set:n,touch:function(){var r=e();return null!==r&&n(r),r}}}var s,a,i=null,o=null;return n?(s=e.utility.Storage,a=s.keys.Analytics,t(s.get.bind(s,a),function(e){s.set(a,e,r)})):t(function(){return i},function(e){null!==o&&clearTimeout(o),i=e,o=setTimeout(function(){i=o=null},r)})}var r=e.type,t=e.util,s=e.utility,a=s.Logger.getLogger("TrueFitAnalyticsTracker"),i=e.Constants,o=i.RequestParameter,l={storeTla:r.String,analyticsURI:r.String,analyticsSecureURI:r.String,sessionTimeout:r.Integer},u={cookieEnabled:r.Boolean,analyticsSession:r.String.optional(),browserCookiesEnabled:r.Boolean},c=t.extend({},l,u),g=e.Class.extend({_constructor:function(s){e.checkArgs(arguments)(r.Object(c));var a,i=this,o=s.sessionTimeout,l=s.cookieEnabled,u=s.analyticsSession,g=s.browserCookiesEnabled;i._reqQueue=[],i._baseUrl=t.chooseUri(s.analyticsSecureURI,s.analyticsURI)+"/analytics/"+s.storeTla,i._browserCookiesEnabled=g,i._sessionHandler=a=n(l,o),void 0!==u&&a.set(u)},trackPageView:function(n){function s(e){try{e()}catch(n){a.error("Exception thrown in callback function will be ignored",n)}l._reqInFlight=!1,l._reqQueue.length>0&&l._reqQueue.shift()()}function i(){0===n.funnels.length?s(n.onSuccess):(l._reqInFlight=!0,t.loadScript({url:l._baseUrl,cache:!1,data:u,success:s.bind(null,n.onSuccess),error:s.bind(null,n.onError)}))}e.checkArgs(arguments)(r.Object({pageName:r.String,funnels:r.Array,onSuccess:r.Function,onError:r.Function,extraParams:r.PlainObject}));var l=this,u=t.extend(l.touchAndGetParams(),n.extraParams);u[o.PageName]=n.pageName,u[o.Funnels]=n.funnels,l._reqInFlight?l._reqQueue.push(i):i()},touchAndGetParams:function(){var e=this._sessionHandler,n=e.touch(),r={};return null===n&&e.set(n=t.uuid()),r[o.CookiesEnabled]=this._browserCookiesEnabled,r[o.AnalyticsSession]=n,r},_baseUrl:null,_browserCookiesEnabled:null,_sessionHandler:null,_reqInFlight:!1,_reqQueue:null});g.TrackerArgTypes=l,g.OtherTrackerArgTypes=u,g.AllTrackerArgTypes=c,e.analytics.TrueFitAnalyticsTracker=g}(TFCApp);
!function(i){"use strict";function n(i,n,t){var e=null,l=n in i?i[n]:"_"in i?i._:void 0;return"function"===s.type(l)?e=l(t||{}):null!==l&&void 0!==l&&(e=l),e}function t(i,n){n===r.Failure&&o.warn("Analytics script failed to load ["+i+"]");var t=u[i];t.status=n,t.signal.trigger(n),delete t.signal}var e=i.analytics,s=i.util,l=i.type,o=i.utility.Logger.getLogger("AnalyticsEngine"),a=i.Class,c=a.unimplemented,u={},r={Loading:1,Success:2,Failure:3},_=a.extend({_constructor:function(n,t){var e;i.checkArgs(arguments)(l.Object({config:l.Object(t).optional(),enabled:l.Boolean.optional(),pages:l.PlainObject.optional(),events:l.PlainObject.optional(),timings:l.PlainObject.optional()})),this._config=n.config||{},this._enableRecordings=l.Boolean.test(n.enabled)?n.enabled:i.getRunMode()===i.RunModes.prod,this._pages=this._filterIfUnimplemented(this._sendPageViewImpl,n,"pages"),this._events=this._filterIfUnimplemented(this._sendEventImpl,n,"events"),this._timings=this._filterIfUnimplemented(this._sendTimingImpl,n,"timings"),this._queue=[],this._scriptStatus=r.Loading,this._onLoad=new i.Signal,e=null,this._enableRecordings&&(e=s.chooseUri(this._getSecureScriptUrl(),this._getScriptUrl())),this._loadScript(e)},_filterIfUnimplemented:function(i,n,t){var e=n[t];return i===c&&l.PlainObject.test(e)?(o.error("Passed "+t+" to an analytics engine that does not support that type of tracking call."),{}):e||{}},_loadScript:function(n){var e,s,l=this;return null===n?void setTimeout(l._onScriptLoad.bind(l,r.Success),1):void(n in u?(e=u[n],e.status!==r.Loading?setTimeout(l._onScriptLoad.bind(l,e.status),1):u[n].signal.listen(l._onScriptLoad.bind(l))):(e=u[n]={status:r.Loading,signal:new i.Signal},e.signal.listen(l._onScriptLoad.bind(l)),s={url:n,success:t.bind(null,n,r.Success),error:t.bind(null,n,r.Failure)},setTimeout(function(){l._customLoader(s)||i.util.loadScript(s)},1)))},_customLoader:function(){return!1},_onScriptLoad:function(i){this._scriptStatus=i,this._initEngine(),this._processQueue(),this._onLoad.trigger(),this._onLoad=null},_processQueue:function(){this._scriptStatus===r.Success&&s.each(this._queue,function(i,n){n()}),this._queue=null},_initEngineImpl:c,_initEngine:function(){this._scriptStatus===r.Success&&this._enableRecordings&&this._initEngineImpl()},_getEngineName:c,_getScriptUrl:c,_getSecureScriptUrl:c,_sendPageViewImpl:c,_sendEventImpl:c,_sendTimingImpl:c,_logRecording:function(i,n){var t;t=this._enableRecordings?"enabled":"disabled",o.info(this._getEngineName()+"["+t+","+JSON.stringify(this._config)+"] -> "+i+"("+JSON.stringify(n)+")")},_sendPageView:function(i,n){this._logRecording("PageView",i),this._enableRecordings?this._sendPageViewImpl(i):this.supportsHitCallback&&n()},_sendEvent:function(i){this._logRecording("Event",i),this._enableRecordings&&this._sendEventImpl(i)},_sendTiming:function(i){this._logRecording("Timing",i),this._enableRecordings&&this._sendTimingImpl(i)},_processWhenReady:function(i){this._scriptStatus===r.Success?i():this._scriptStatus===r.Loading&&this._queue.push(i)},pageView:function(i,t){var e=this,s=n(this._pages,i,t);null!==s?this._processWhenReady(e._sendPageView.bind(e,s,t.success)):e.supportsHitCallback&&t.success()},event:function(i,t){var e=n(this._events,i,t);null!==e&&this._processWhenReady(this._sendEvent.bind(this,e))},timing:function(i,t){var e=n(this._timings,i,t);null!==e&&this._processWhenReady(this._sendTiming.bind(this,e))},onLoad:function(i){this._scriptStatus===r.Loading?this._onLoad.listen(i):i()},isEnabled:function(){return this._enableRecordings},_config:null,_pages:null,_events:null,_timings:null,_queue:null,_onLoad:null,_scriptStatus:null,_enableRecordings:null,supportsHitCallback:!1});e.AnalyticsEngine=_}(TFCApp);
!function(n){"use strict";var e=n.analytics,i=n.util,t=1e4,a=n.utility.Logger.getLogger("AnalyticsManager"),s=n.Class.extend({_constructor:function(){this._engines=[]},addEngine:function(n){n instanceof e.AnalyticsEngine?i.containsVal(this._engines,n)?a.raise("Cannot add the same engine twice"):this._engines.push(n):a.raise("Analytics engine must have type AnalyticsEngine")},handlePageLoad:function(n){function e(n){u||(clearTimeout(a),u=!0,n&&n())}var a,s=this._engines,c=i.count(s,function(n,e){return e.supportsHitCallback}),o=0,u=!1,g=n.success,r=n.error;n.success=function(){++o===c&&e(g)},n.error=function(){e(r)},a=setTimeout(function(){e(r)},t),i.each(s,function(e,i){i.pageView(n.pageName,n)})},handleEvent:function(n){var e=n.eventName;i.each(this._engines,function(i,t){t.event(e,n)})},handleTiming:function(n){var e=n.timingName;i.each(this._engines,function(i,t){t.timing(e,n)})},_engines:null});e.AnalyticsManager=s}(TFCApp);
!function(t){"use strict";var i="optimizely",n=t.analytics,e=t.extLibs,r=t.type;window[i]=window[i]||[];var s={id:r.String,scriptUrl:r.String.optional(),targets:r.Array},c=n.AnalyticsEngine.extend({isActive:function(){return this._active},_constructor:function(t){this._super(t,s),this._id=this._config.id,this._targets=this._config.targets},_initEngineImpl:function(){t.isDevMode()&&window[i].push(["log"])},_getEngineName:function(){return"A/B Testing"},_getScriptUrl:function(){var t=this._config.scriptUrl;return t?"http://"+t:null},_getSecureScriptUrl:function(){var t=this._config.scriptUrl;return t?"https://"+t:null},_sendPageViewImpl:function(t){var i=this;e(this._targets).each(function(n,e){e===t&&i._activate()})},_activate:function(){this._active=!0,window[i].push(["activate",this._id]),this._active=!1},_active:null,_id:null,_targets:null});n.ABTestingEngine=c}(TFCApp);
!function(n){"use strict";var r=n.analytics,t=r.TrueFitAnalyticsTracker,e=t.AllTrackerArgTypes,i=r.AnalyticsEngine.extend({_constructor:function(n){this._super(n,e)},_initEngineImpl:function(){var n,r=this._onTrackerReady;this._tracker=n=new t(this._config),r&&(r.trigger(n),this._onTrackerReady=null)},_getEngineName:function(){return"True Fit Analytics"},_getScriptUrl:function(){return null},_getSecureScriptUrl:function(){return null},_sendPageViewImpl:function(n){this._tracker.trackPageView(n)},withTracker:function(r){var t,e=this._tracker,i=this.isEnabled();return i&&(e?r(e):(this._onTrackerReady=t=this._onTrackerReady||new n.Signal,t.listen(r))),i},_tracker:null,_onTrackerReady:null,supportsHitCallback:!0});r.TrueFitAnalyticsEngine=i}(TFCApp);
!function(e){"use strict";var t,n=e.type,i=e.util,s=e.Class,a=e.analytics,l={totalABTests:n.Integer};t=a.AnalyticsEngine.extend({_constructor:function(e){this._super(e,l),this._pageViewQueue=[],this._loadedABTests=0,this._totalABTests=this._config.totalABTests},_initEngineImpl:function(){},_getEngineName:function(){return"ABTestCompleteEngine"},_getScriptUrl:function(){return null},_getSecureScriptUrl:function(){return null},_sendPageViewImpl:function(t){this._loadedABTests===this._totalABTests?e.abTestComplete.trigger(t):this._pageViewQueue.push(t)},incrementLoadedABTests:function(){++this._loadedABTests===this._totalABTests&&(i.each(this._pageViewQueue,function(t,n){e.abTestComplete.trigger(n)}),this._pageViewQueue=null)},_loadedABTests:null,_totalABTests:null,_pageViewQueue:null}),e.analytics.ABTestInterface=s.extend({getEngines:function(){return this._engines.concat([this._abTestCompleteEngine])},isActive:function(){var e=!1;return i.each(this._engines,function(t,n){return n.isActive()?(e=!0,!1):void 0}),e},_getPageNames:s.unimplemented,_constructor:function(e){var n,s={},l=[];i.each(this._getPageNames(),function(e,t){s[t]=t}),i.each(e,function(e,t){var n=new a.ABTestingEngine({enabled:!0,config:{id:t.id,scriptUrl:t.scriptUrl,targets:t.targets},pages:s});l.push(n)}),this._engines=l,this._abTestCompleteEngine=n=new t({enabled:!0,pages:s,config:{totalABTests:l.length}}),i.each(l,function(e,t){t.onLoad(n.incrementLoadedABTests.bind(n))})},_engines:null,_abTestCompleteEngine:null}),e.abTestComplete=new e.Signal}(TFCApp);
!function(e){"use strict";var n=e.analytics,t=e.type,r=e.util,a=e.utility.Logger.getLogger("TrueFitAnalytics"),s=n.TrueFitAnalyticsTracker,i=n.TrueFitAnalyticsEngine,c=e.Constants.RequestParameter,o={};o[c.DeviceType]=t.String,o[c.ServiceMode]=t.String;var l=e.Class.extend({_constructor:function(n,i,l,g,u){e.checkArgs(arguments)(t.Instance(e.CookieHelper),t.Object({enabled:t.Boolean,trackerArgs:t.Object(s.TrackerArgTypes),constantParams:t.Object(o),locale:t.String.optional(),screenSize:t.String,otherTrackerArgs:t.Object(s.OtherTrackerArgTypes)}),t.PlainObject.optional(),t.PlainObject.optional(),t.PlainObject.optional());var p;this._cookieHelper=n,this._tfEngine=this._createEngine(i.enabled,r.extend({},i.trackerArgs,i.otherTrackerArgs),l,g,u),this._constantParams=p=r.extend({},i.constantParams),p[c.AnalyticsScreenSize]=i.screenSize,i.locale?p[c.Locale]=i.locale:void 0===i.locale&&a.warn("Missing locale for TrueFitAnalytics. This is only expected to happen in dev mode.")},_generatePageView:function(n,a){e.checkArgs(arguments)(t.Function,t.Object({pageName:t.String,funnels:t.Array}));var s={},i=n(a);return s[c.UserSession]=this._cookieHelper.userSession(),s[c.SessionParams]=this._cookieHelper.getSessionParams()||"",r.extend(s,this._constantParams),i?{pageName:i,funnels:a.funnels,extraParams:s,onSuccess:a.success,onError:a.error}:null},getEngine:function(){return this._tfEngine},_createEngine:function(e,n,t,r,a){return new i({enabled:e,config:n,pages:t,events:r,timings:a})},_cookieHelper:null,_tfEngine:null,_constantParams:null});n.TrueFitAnalytics=l}(TFCApp);
!function(e,n,i){"use strict";var t=e.util,r=e.extLibs,s=e.utility.Logger.getLogger("ResponsiveManager"),c=e.Constants,a=c.ScreenSize,S=c.DeviceType,d=767,u=e.Class.extend({_constructor:function(i){var r,c=this;if(c._screenSizeQuerySignal=new e.Signal,i!==S.Responsive)c._setScreenSize(i===S.Desktop?a.Large:a.Small);else if(t.isFunction(n.matchMedia))try{r=n.matchMedia("(max-width: "+d+"px)"),c._setScreenSize(r.matches?a.Small:a.Large),r.addListener(function(e){var n=e.matches?a.Small:a.Large;c._setScreenSize(n)})}catch(u){s.warn("Error trying to use matchMedia: ",u," Using the window width instead"),c._useWindowWidth()}else c._useWindowWidth()},_setScreenSize:function(e){var n=this;n._currentScreenSize!==e&&(s.debug("Setting screen size:",e),n._currentScreenSize=e,n._screenSizeQuerySignal.trigger(e))},_useWindowWidth:function(){var e=this;e._setCurrentWidthBasedOnWindow(),r.addEventListener(n,"resize",t.debounce(e._setCurrentWidthBasedOnWindow,250).bind(e))},_setCurrentWidthBasedOnWindow:function(){var e=this,t=n.innerWidth||i.documentElement.clientWidth||i.body.clientWidth;e._setScreenSize(d>=t?a.Small:a.Large)},currentScreenSize:function(){return this._currentScreenSize},subscribeToScreenSizeChange:function(e){this._screenSizeQuerySignal.listen(e)},_currentScreenSize:null,_screenSizeQuerySignal:null});e.manager.ResponsiveManager=u}(TFCApp,window,document);
!function(t,e){"use strict";var s=e.analytics,i=e.util;s.WidgetABTest=s.ABTestInterface.extend({_getPageNames:function(){var t,s=[];return i.each(e.widget,function(n,a){i.isFunction(a)&&a.isSubClassOf&&a.isSubClassOf(e.widget.BaseWidget)&&(t=a.WIDGET_NAME,s.push(t))}),s}})}(tfcJQuery,TFCApp);
!function(e){"use strict";var t,i=e.util,n=e.utility.Storage,s=e.analytics,r=s.TrueFitAnalytics;t=r.extend({_constructor:function(e,t,s,r){this._super(e,i.extend({locale:s,screenSize:r,otherTrackerArgs:{analyticsSession:n.get(n.keys.Analytics)||void 0,browserCookiesEnabled:n.enabled(),cookieEnabled:!0}},t),{}),this._screenSize=r},screenSize:function(){return this._screenSize}}),s.FitRecTrueFitAnalytics=t}(TFCApp);
!function(e,s){"use strict";var t,a=e.Constants,i=e.util,r=a.Message;t=e.Class.extend({_constructor:function(){this._$iframes=s(),this._sourceWindowId=e.postMessageManager.retailerWindowId()},_broadcastMessage:function(s,t){var a=this;this._$iframes.each(function(r,n){var o,c=n.src;c&&(o=i.parseOrigin(c),e.postMessageManager.postMessage(n.contentWindow,o,a._sourceWindowId,s,t))})},broadcastScreenSizeChange:function(e){this._broadcastMessage(r.ScreenSizeChange,{newSize:e})},broadcastFitRecResults:function(e){this._broadcastMessage(r.FitRecResults,{fitRecResults:e})},registerIframe:function(e){this._$iframes=this._$iframes.add(e)},unregisterIframe:function(e){this._$iframes=this._$iframes.not(e)},_$iframes:[],_sourceWindowId:null}),e.manager.ProfileMessageBroadcaster=t}(TFCApp,tfcJQuery);
!function(a){"use strict";var t=a.util,e=a.utility,_=a.type,i=_.Integer,n=e.Logger.getLogger("CookieData"),o=10,s=a.Class.extend({_constructor:function(t){a.checkArgs(arguments)(_.Object({name:_.String,types:_.PlainObject,maxAge:_.Or(i,_.Null).optional()})),this.__name=t.name,this.__maxAge=t.maxAge,this._data=this._read(t.types)},setMaxAge:function(e){function n(){r.__lastMaxAgeUpdate=l,r.__maxAge=e,r._save()}a.checkArgs(arguments)(_.Or(i,_.Null));var s,g,r=this,m=r.__maxAge,l=t.now()/1e3;void 0===m||null!==m&&null===e?n():(s=r.__lastMaxAgeUpdate+r.__maxAge,g=l+e,Math.abs(s-g)>o&&n())},_read:function(a){var _=e.Storage.get(this.__name),i=_?t.deparam(_):{},n={};return t.each(i,function(t,e){var _,i=a[t]||a._;i&&(_=i.fromString(e),void 0!==_&&(n[t]=_))}),n},_save:function(){void 0===this.__maxAge?n.error("Attempted to save cookie data without a max age"):e.Storage.set(this.__name,t.param(this._data),null===this.__maxAge?void 0:this.__maxAge)},_data:null,__name:null,__maxAge:void 0,__lastMaxAgeUpdate:void 0});a.CookieData=s}(TFCApp);
!function(t){"use strict";var e,i=t.util,s={WidgetTipsAutomaticShown:"widget.tips.automatic.shown",WidgetTipsAutomaticXout:"widget.tips.automatic.xout",WidgetTipsRolloverXout:"widget.tips.rollover.xout",SessionParams:"session.params"},o=t.type,a={},n={};a[s.WidgetTipsAutomaticShown]={type:o.Boolean,defval:!1},a[s.WidgetTipsAutomaticXout]={type:o.Boolean,defval:!1},a[s.WidgetTipsRolloverXout]={type:o.Boolean,defval:!1},a[s.SessionParams]={type:o.String,defval:""},i.each(a,function(t,e){n[t]=e.type}),e=t.CookieData.extend({_constructor:function(){this._super({name:t.utility.Storage.keys.UserSettings,types:n})},get:function(e){t.checkArgs(arguments)(o.String);var i=this._data[e],s=n[e],r=a[e].defval;if(void 0===r)throw"Attempt to retrieve a user setting that does not exist";return s.test(i)?i:r},set:function(e,i){var s=n[e];if(!s)throw"Attempt to save a user setting that does not exist";t.checkArgs(arguments)(o.String,s),this._data[e]=i,this._save()}}),e.keys=s,t.UserSettings=e}(TFCApp);
!function(t){"use strict";var i=t.type,s=t.util,e=t.CookieData.extend({_constructor:function(){this._super({name:t.utility.Storage.keys.UserVisit,maxAge:null,types:{_:i.Integer}})},getVisits:function(s){return t.checkArgs(arguments)(i.String),this._data[s]||0},trackVisits:function(e){t.checkArgs(arguments)(i.Array);var r=this,n=this._data;s.each(e,function(t,i){n[i]=r.getVisits(i)+1}),this._save()}});t.UserVisitTracker=e}(TFCApp);
!function(e,t){"use strict";var r=e.util;e.preLoadFitProfile=function(e,c,n){function s(){function e(){(new Image).src=c.cdnSecureURI+c.uxVersionPath+"/resources/fitprofile/index.html",(new Image).src=c.cdnSecureURI+c.uxVersionPath+"/resources/fitprofile/js/app.js",(new Image).src=c.cdnSecureURI+c.uxVersionPath+"/resources/fitprofile/css/application-responsive.css",(new Image).src=c.cdnSecureURI+c.storeVersionPath+"/resources/store/"+c.storeKey+"/css/tfpapp-responsive.css"}"complete"===document.readyState?e():t(document).bind("readystatechange",function(){"complete"===document.readyState&&e()})}var i=c.fitProfilePreLoad,o=i.pageCount,u=i.pageDelay,a=["tfc-fitrec-product","tfc-fitrec-account","tfc-fitrec-register"],f=r.sum(r.map(a,function(t,r){return e.getVisits(r)}));r.find(n,function(e,t){return r.containsVal(a,t)})&&(o&&f>=o?s():u&&setTimeout(s,1e3*u))}}(TFCApp,tfcJQuery);
!function(e,t,n){"use strict";function i(e){return t("iframe",e)}function o(e,n){return n?e.filter(function(){var e=t(this).attr(G);return"secure-tip"===n?"secure"===e:"secure"!==e}):e}function r(e,t){var n=p(t).parents("."+P).length>0;return!n}function s(e,t,n){return o(p("."+e,t),n)}function a(e,t,n){return o(p("."+e,t).filter(r),n)}function l(e){return"tfc-"+e}var c,u,f,d,p=e.extLibs,h=e.util,g=e.type,m=e.Class,_=m.unimplemented,w=e.history,v=e.Constants,$=v.Message,C=v.ScreenSize,T=e.popupManager,b="body",S="head",P="tfc-popup-wrap",M="tfc-tip-result",O="tfc-modal-result",L="tfc-tip-show-more",z="tfc-tip-click-show-more",R="tfc-tip-click-show-less",H="tfc-popup-click-open",I="tfc-popup-click-close",k="tfc-popup-rollover-open",A="tfc-iframe-loaded",W="modal-visible",y="tfc-modal-visible",B={tfcModalVisible:!0},x="tfc-full-screen-modal",E="tfc-window-modal",U="tfc-viewport",V='meta[name="viewport"]',D='<meta id="'+U+'" name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />',F="tfc-content",j="above",J="below",N="left",Q="right",q="data-tip-id",G="data-content-id",K=10,X="data-legal-footer-setup",Y="tfc-legal-footer-privacy-policy",Z="tfc-legal-footer-terms-of-use",et=e.utility.Logger.getLogger("TipOrModal"),tt={Close:"close",Complete:"complete",LogOut:"logout",Open:"open",PageLoad:"pageload",Render:"render",Update:"update",AddToBag:"addtobag"},nt=h.map(h.objVals(C),function(e,t){return l(t)}).join(" ");c=m.extend({_constructor:function(e){var t=e.$elem,n=t.find(".tfc-popup-wrap");if(1!==t.length)throw"TipOrModal expected exactly one element to be passed in";if(1!==n.length)throw"TipOrModal expected exactly one .tfc-popup-wrap";this._$elem=t,this._$wrap=n},hasIframe:function(){return i(this._$elem).length>0},isWithinBounds:function(e,t){return p.isWithinBounds(this._$elem,e,t)},isInDom:function(){return this._$elem.parents("body").length>0},receiveMessage:function(e,t){var n=this,i=n._$wrap;e===$.Open?(i.stop(!0),i.addClass(A)):e===$.Refresh?i.stop(!0):e===$.Resize&&n._handleResizeMessage(e,t)},_handleResizeMessage:function(e,t){var n,o,r,s,a,l=this;n=l._$wrap,o=i(n),r=n.add(o),l._shouldHandleResize()&&(s=t.offsetHeight,a=t.scrollHeight,et.debug("Animating tip height: ",t),r.stop(),s===a?(o.css("height",n.height()),n.height()!==s&&r.animate({height:s})):(n.height()!==s&&(et.warn("Tip offsetHeight changed and does not match scrollHeight. Tip height will be animated instantaneously."),n.css("height",s)),o.css("height",a)))},_clearWrapAndIframeHeight:function(){var e,t,n;e=this._$wrap,t=i(e),n=e.add(t),n.css("height","")},_container:_,_setupLegalFooterClickEvents:function(e){function t(t,n){e.staticContentUri&&p("."+t,i).bind("click",function(){n(e.staticContentUri,e.locale)})}var n=this,i=n._$elem;i.data(X)||(t(Y,T.openPrivacyPolicy),t(Z,T.openTermsOfUse),i.data(X,!0))},_shouldHandleResize:_,id:_,clickOpenTriggers:function(){return p("."+H,this._$elem)},clickOpenTriggersForTipId:function(e){return s(H,this._$elem,e)},rolloverOpenTriggers:function(){return p("."+k,this._$elem)},rolloverOpenTriggersForTipId:function(e){return s(k,this._$elem,e)},clickCloseTriggers:function(){return p("."+I,this._$elem)},toggleShowMore:_,setupMoreLessInfoHandlers:function(){var e=this,t=e._$elem;p("."+z,t).bind("click",function(){e.toggleShowMore(!0)}),p("."+R,t).bind("click",function(){e.toggleShowMore(!1)})},show:function(e,t,n,o){var r,s=this,a=s._$wrap,l=n&&n.before,c=n&&n.after;this.hasIframe()?(d=h.now(),r=i(a),r.attr("src",tfc.__getProfileUrl(h.extend({container:s._container()},t))),o.profileMessageBroadcaster.registerIframe(r)):(s.setContent(t),s.setupMoreLessInfoHandlers()),this._setupLegalFooterClickEvents(e),l&&l(),a.fadeIn(function(){c&&c()})},hide:function(e,t){var n,o=this,r=o._$wrap,s=i(r),a=e&&e.before,l=e&&e.after;a&&a(),r.fadeOut(function(){r.removeClass(L).removeClass(A),l&&l(),t.unregisterIframe(s),n=s.removeAttr("src").clone(),s.replaceWith(n),o._clearWrapAndIframeHeight()})},decorateElement:function(e){var t=this._$elem,n="PRIOR_DECORATIONS",i=t.data(n);t.removeClass(i).addClass(e),t.data(n,e)},setContent:function(e){this._$elem.find("."+F).replaceWith(e)},getWrapElem:function(){return this._$wrap},_$elem:null,_$wrap:null}),u=c.extend({_constructor:function(e){this._super(e),e.$widget||et.raise("Tip constructor expects a $widget element"),this._$widget=e.$widget},id:function(){return this._$elem.attr(q)},setPlacement:function(e){this._$wrap.addClass("tfc-"+e)},getPlacement:function(){var e=this._$wrap;return h.findVal(u.Placement,function(t,n){return e.hasClass("tfc-"+n)})},toggleShowMore:function(e){var t,n,i=this._$wrap;t=i.height(),i.toggleClass(L,e),n=i.height(),i.css("height",t),i.animate({height:n},{complete:function(){i.css("height","")}})},_container:function(){return v.Container.Tip},_shouldHandleResize:function(){return!0},show:function(e,t,i,o){function r(e,t,i){et.debug("setting scroll to:",e),p.scrollTop(n,e);var o=p.scrollTop(n);Math.abs(o-e)<1&&setTimeout(function(){Math.abs(t-e)<=i?p.scrollTop(n,t):e>t?r(e-i,t,i):r(e+i,t,i)},5)}var s,a,l,c,f,d,h,g,m,_,w=this,v=o.tipConfig,$=this._$wrap,C=this._$widget,T=w.getPlacement(),b=n.innerHeight,S=10,P=370,M=Math.round(p.scrollTop(n)),O=4,L=v.autoScrollThresholdTop+S,z=v.autoScrollThresholdBottom+S;this._super(e,t,i,o),w._resizeHandler=s=w._positionTipWithinWindowBounds.bind(w,w._getCssPos()),s(),p.addEventListener(n,"resize",s),T!==u.Placement.Above?(f=$[0].getBoundingClientRect().top,l=f+P,l>b-z&&(h=C[0].getBoundingClientRect().top,g=Math.min(f,h),a=l-g,a>b-L-z?m=M+g-L:(_=l-b,m=M+_+z),r(M,m,O))):(d=$[0].getBoundingClientRect().bottom,c=d-P,L>c&&(m=M-(L-c),r(M,m,O)))},hide:function(e,t,i){var o=this,r=e&&e.before,s=e&&e.after;this._super({before:r,after:function(){s&&s(),p.removeEventListener(n,"resize",o._resizeHandler),o._resizeHandler=null,o._clearCssPos()}},t,i)},_cssPlacementProp:function(){return this.getPlacement()===u.Placement.Left?"right":"left"},_getCssPos:function(){return parseInt(this._$wrap.css(this._cssPlacementProp()))||0},_clearCssPos:function(){this._$wrap.css(this._cssPlacementProp(),"")},_positionTipWithinWindowBounds:function(e){function t(e){return m+g*e}function i(e){r.css(h,t(e))}var o=this,r=o._$wrap,s=p(n),a=r.offset().left,l=p.outerWidth(r),c=s.width(),u=c-(a+l),f=K-a,d=K-u,h=o._cssPlacementProp(),g="left"===h?1:-1,m=o._getCssPos(),_=g*(e-m);i(0>f+d?f>0?f:d>0?-d:_>0?Math.min(_,-d):Math.max(_,f):(f-d)/2)},_resizeHandler:null,_$widget:null}),f=c.extend({_constructor:function(e){this._super(e),this._id=g.String.test(e.id)?e.id:null},_container:function(){return v.Container.Modal},screenSize:function(){return this._$wrap.hasClass(l(C.Large))?C.Large:C.Small},_shouldHandleResize:function(){var e=this;return e.isVisible()&&e.screenSize()===C.Large},updateScreenSize:function(e){var i=this,o=t(b);if(i._$wrap.removeClass(nt).addClass(l(e)),i.isVisible())if(o.toggleClass(x,i.screenSize()===C.Small),o.toggleClass(E,i.screenSize()===C.Large),i.screenSize()===C.Large){var r=p("#"+U),s=p(V).not(r);r.attr("content",s.attr("content")||"").remove(),i._$elem.css("top",i._startingScrollPosition.top),p.scrollTop(n,i._startingScrollPosition.top),p.scrollLeft(n,i._startingScrollPosition.left)}else p(S).append(D),i._$elem.css("top",0);i._shouldHandleResize()||i._clearWrapAndIframeHeight()},id:function(){return this._id},placeOnPage:function(){p(b).append(this._$elem)},toggleShowMore:function(e){this._$wrap.toggleClass(L,e)},show:function(e,i,o,r){var s=this,a=o&&o.before,l=o&&o.after,c=t(b);s.isShowAnimationRunning=!0,s._super(e,i,{before:function(){s._startingScrollPosition={top:p.scrollTop(n),left:p.scrollLeft(n)},s.screenSize()===C.Large&&s._$elem.css("top",s._startingScrollPosition.top),!e.popStateEnabled||w.state&&w.state.tfcModalVisible||w.pushState(B,""),s._$elem.data(W,!0),c.addClass(s.screenSize()===C.Small?x:E),s._$elem.show(),a&&a()},after:function(){c.addClass(y),s.screenSize()===C.Small&&p(S).append(D),l&&l(),s.isShowAnimationRunning=!1}},r)},hide:function(e,i,o){var r=this,s=e&&e.before,a=e&&e.after,l=t(b);r._super({before:function(){if(!o){if(r.screenSize()===C.Small){var e=p("#"+U),t=p(V).not(e);e.attr("content",t.attr("content")||"").remove()}l.removeClass(y),w.state&&w.state.tfcModalVisible&&w.back()}s&&s()},after:function(){p.scrollTop(n,r._startingScrollPosition.top),p.scrollLeft(n,r._startingScrollPosition.left),r._$elem.data(W,!1),o||(l.removeClass(x).removeClass(E),r._$elem.css("top",0)),r._$elem.hide(),a&&a()}},i,o)},isVisible:function(){return!!this._$elem.data(W)},_id:null,_startingScrollPosition:null,isShowAnimationRunning:!1}),c.clickOpenTriggers=s.bind(null,H),c.clickOpenTriggersOutsidePopup=a.bind(null,H),c.rolloverOpenTriggers=s.bind(null,k),c.rolloverOpenTriggersOutsidePopup=a.bind(null,k),c.clickCloseTriggersOutsidePopup=a.bind(null,I),u.Placement={Above:j,Below:J,Left:N,Right:Q},u.widgetTips=function(e){var n=t("."+M,e),i=[];return n.each(function(n,o){i.push(new u({$elem:t(o),$widget:e}))}),i},u.fromWidget=function(e,n){var i=t("."+M,e).filter(function(e,i){return t(i).attr(q)===n});return 1===i.length?new u({$elem:i,$widget:e}):null},f.fromTemplate=function(e,t){return new f({$elem:e.filter("."+O),id:t})},c.handleCriticalMessage=function(e,t,n){var i;e===$.Open?(et.info("TIME TO LOAD: "+new Date(h.now()-d).getTime()/1e3),n(tt.Open,{data:t})):e===$.Close?n(tt.Close,{data:[]}):e===$.Complete?n(tt.Complete,{tfpUser:t.tfpUser,placement:t.placement,isCredentialSaved:t.tfpUser.isCredentialSaved}):e===$.PageLoad?n(tt.PageLoad,t):e===$.Update?n(tt.Update):e===$.LogOut?n(tt.LogOut):e===$.AddToBag?n(tt.AddToBag,t):e===$.Refresh&&(i=t&&t.isEnteringData,tfc.__calculate(void 0,{isEnteringData:i}))},e.TipOrModal=c,e.Tip=u,e.Modal=f}(TFCApp,tfcJQuery,window);
!function(t){"use strict";t.tips.TipEventLevel={automatic:3,rollover:2,click:1,off:0}}(TFCApp);
!function(e,n){"use strict";var t,i,s,o,l,r,u,c,a,d,p,g=e.extLibs,b=e.tips,f=e.type,v=e.util,h=e.Class,_=h.unimplemented,C=e.UserSettings.keys,T=e.TipOrModal,E=e.Constants,O=E.SourceTrigger,m=E.Attributes,k="tfc-popup-wrap",S="body",w="tfc-full-screen-modal",$=e.utility.Logger.getLogger("TipTriggers"),M=function(){var e=null,n=500;return function(t,i){null===e&&(e=setTimeout(function(){e=null},n),i.call(t))}}();t=h.extend({_constructor:function(t){e.checkArgs(arguments)(f.Object({tipConfig:f.PlainObject,userSettings:f.Instance(e.UserSettings),userVisitTracker:f.Instance(e.UserVisitTracker),widgetName:f.String,receiveMessageSignal:f.Instance(e.Signal).optional(),$widget:f.Instance(n),handleOpen:f.Function})),this._options=t},getEventLevel:_,_isEnabled:_,_beforeTipOpen:function(){},_bindEvents:_,bindEvents:function(){var e=this,n=this._options;this._unbindEvents=this._bindEvents({$widget:n.$widget,handleOpen:function(t,i){e._isEnabled()&&(e._beforeTipOpen(),n.handleOpen(t,i))},$tipClickOpen:n.$tipClickOpen,$tipRolloverOpen:n.$tipRolloverOpen})},unbindEvents:function(){this._unbindEvents&&(this._unbindEvents(),this._unbindEvents=null)},_options:null,_unbindEvents:null}),i=t.extend({_constructor:function(t){this._super(t),e.checkArgs(arguments)(f.Object({$tipClickOpen:f.Instance(n)}))},getEventLevel:function(){return b.TipEventLevel.click},_isEnabled:function(){return!0},_bindEvents:function(e){function n(n){n.fromClickTipOpen=!0,M(this,function(){var n=g(this);e.handleOpen([new r({receiveMessageSignal:t._options.receiveMessageSignal}),new u],s&&"secure"!==s?s:{ips:n.attr(m.IPS),sourceTrigger:n.parents("."+k).length>0?O.Popup:O.Widget})})}var t=this,i=e.$tipClickOpen,s=i.attr("data-content-id");return i.bind("click",n),function(){i.unbind("click",n)}}}),s=t.extend({_constructor:function(t){this._super(t),e.checkArgs(arguments)(f.Object({$tipRolloverOpen:f.Instance(n)}))},getEventLevel:function(){return b.TipEventLevel.rollover},_isEnabled:function(){return!0},_bindEvents:function(e){function n(){e.handleOpen([new r({receiveMessageSignal:t._options.receiveMessageSignal,beforeTipClose:function(){s.userSettings.set(C.WidgetTipsRolloverXout,!0),beforeTipClose()}}),new u,o])}var t=this,i=e.$tipRolloverOpen,s=this._options,o=new a({beforeTipClose:beforeTipClose});return i.bind("mouseenter",n),function(){i.unbind("mouseenter",n)}}}),o=t.extend({getEventLevel:function(){return b.TipEventLevel.automatic},_isEnabled:function(){var e=this._options,n=e.userSettings;return!n.get(C.WidgetTipsAutomaticShown)&&e.userVisitTracker.getVisits(e.widgetName)>=e.tipConfig.pageLoads},_beforeTipOpen:function(){this._options.userSettings.set(C.WidgetTipsAutomaticShown,!0)},_bindEvents:function(e){function n(){a.unbind("mouseenter",p),a.unbind("mouseleave",b)}function t(){a.bind("mouseenter",p),a.bind("mouseleave",b),e.handleOpen([new r({receiveMessageSignal:s._options.receiveMessageSignal,beforeTipClose:function(){l.userSettings.set(C.WidgetTipsAutomaticXout,!0),n()}}),new u,d])}var i,s=this,o=!0,l=this._options,a=e.$widget,d=new c({hideDelay:l.tipConfig.hideDelay,beforeTipClose:n}),p=d.disableClose.bind(d),b=d.enableClose.bind(d);return this._eventInitializedOnce?void 0:(this._eventInitializedOnce=!0,i=setTimeout(function(){g(function(){o&&t()})},1),function(){clearTimeout(i),o=!1})},_eventInitializedOnce:!1}),l=h.extend({_constructor:function(n){e.checkArgs(arguments)(f.Object({beforeTipClose:f.Function.optional(),receiveMessageSignal:f.Instance(e.Signal).optional()}).optional()),this._options=n},bindEvents:function(t){e.checkArgs(arguments)(f.Object({$widget:f.Instance(n),tipOrModal:f.Instance(T),handleClose:f.Function,$tipClickClose:f.Instance(n)}));var i=this;this._unbindEvents=this._bindEvents({$widget:t.$widget,tipOrModal:t.tipOrModal,$tipClickClose:t.$tipClickClose,handleClose:function(){i._beforeTipClose(),t.handleClose()}})},_beforeTipClose:function(){var e=this._options,n=e&&e.beforeTipClose;n&&n()},_bindEvents:_,unbindEvents:function(){this._unbindEvents&&(this._unbindEvents(),this._unbindEvents=null)},_unbindEvents:null,_options:null}),r=l.extend({_constructor:function(n){this._super(n),e.checkArgs(arguments)(f.Object({selector:f.String.optional()}).optional())},_bindEvents:function(e){function n(){M(this,function(){e.handleClose()})}function t(n){"close"===n&&e.handleClose()}var i=this._options,s=i&&i.selector,o=i&&i.receiveMessageSignal,l=o&&!s,r=s?g(s,e.$widget):e.$tipClickClose;return l&&o.listen(t),r.bind("click",n),function(){l&&o.unlisten(t),r.unbind("click",n)}}}),u=l.extend({_bindEvents:function(e){function t(t){v.isRealMouseEvent(t)&&M(this,function(){t.fromClickTipOpen||0!==n(t.target).parents("."+k).length||n(S).hasClass(w)||e.handleClose()})}var i=n(document);return i.bind("click",t),function(){i.unbind("click",t)}}}),c=l.extend({_constructor:function(n){this._super(n),e.checkArgs(arguments)(f.Object({hideDelay:f.Integer})),this._hideDelay=1e3*n.hideDelay,this._enabled=!0},_bindEvents:function(e){var n=this,t=e.handleClose,i=setTimeout(function(){n._enabled?t():n._onEnable=t},this._hideDelay);return function(){clearTimeout(i)}},disableClose:function(){this._enabled=!1},enableClose:function(){this._enabled=!0,this._onEnable&&(this._onEnable(),this._onEnable=null)},_hideDelay:null,_enabled:null,_onEnable:null}),a=l.extend({_bindEvents:function(e){function n(){null!==s&&(clearTimeout(s),s=null)}function t(n){var t=n.pageX,i=n.pageY;g.isWithinBounds(o,t,i)||e.tipOrModal.isWithinBounds(t,i)||(s=setTimeout(e.handleClose,250))}function i(){n()}var s=null,o=e.$widget;return o.bind("mouseleave",t).bind("mouseenter",i),function(){o.unbind("mouseleave",t).unbind("mouseenter",i),n()}}}),d=l.extend({_constructor:function(n){this._super(n),e.checkArgs(arguments)(f.Object({signal:f.Instance(e.Signal)}))},_bindEvents:function(e){var n=this._options.signal,t=e.handleClose;return n.listen(t),function(){n.unlisten(t)}}}),p=l.extend({_bindEvents:function(e){var n=function(){e.tipOrModal.isShowAnimationRunning||($.debug("PopState close triggered"),e.handleClose())},t=function(){/Edge/.test(navigator.userAgent)||n()};return g.addEventListener(window,"popstate",t),function(){g.removeEventListener(window,"popstate",t)}}}),b.PageLoadTipOpenTrigger=o,b.MouseOverTipOpenTrigger=s,b.ClickTipOpenTrigger=i,b.ClickTipCloseTrigger=r,b.PageClickTipCloseTrigger=u,b.SignalTipCloseTrigger=d,b.PopStateTipCloseTrigger=p}(TFCApp,tfcJQuery);
!function(e,i){"use strict";function t(e,i,t){var n=this,r=e.data(o);C.handleCriticalMessage(i,t,n.context.fireFitrecRegisterEvent),r&&r.tipOrModal.receiveMessage(i,t)}function n(i){function t(i){var t=i.filter(function(){return e(this).attr(g)});if(i.length!==t.length)throw g+" must be defined on every tip trigger because there are multiple tips for this widget."}t(C.clickOpenTriggers(i)),t(C.clickCloseTriggersOutsidePopup(i)),t(C.rolloverOpenTriggers(i))}var r="tfc-tip-enabled",s="tfc-fitrec-result",a="tfc-tip-window-id",o="tfc-visible-popup-info",l="tfc-tip-receive-message-signal",c="tfc-tip-ab-test-setup",g="data-content-id",p=i.extLibs,d=i.util,u=i.tips,T=i.UserSettings.keys,h=i.Constants,f=h.Attributes,v=i.Tip,C=i.TipOrModal,w=i.utility.Logger.getLogger("WidgetWithTips");i.widget({className:"WidgetWithTips",widgetName:"tfc-widget-with-tips",isAbstract:!0,_cdnProfileURI:null,_constructor:function(e){this._super(e),this._cdnProfileURI=e.cdnProfileURI},_initTip:function(e,n){var r,s=v.widgetTips(e),o=this,g=e.data(l);d.each(s,function(e,i){i.decorateElement(n)}),g||(r=i.postMessageManager.nextWindowId(),g=new i.Signal,e.data(a,r).data(l,g),g.listen(t.bind(this,e)),i.postMessageManager.receiveMessage(g.trigger.bind(g),o._cdnProfileURI,r)),e.data(c)||(e.data(c,!0),i.abTestComplete.listen(function(i){i===o.widgetName&&(o._unbindCloseTriggers(e),o._bindCloseTriggers(e),o._initAllTips(e))}))},_initAllTips:function(e){var i=u.TipEventLevel[this.context.tipConfig.eventLevel],t=d.extend({widgetName:this.widgetName,receiveMessageSignal:e.data(l)},this.context);n(e),this._initTipOpenTriggers(e,t,i,[])},_initTipOpenTriggers:function(e,i,t,n,a,l){var c,g,h,f,w,O=this,_=[],b=p("."+s,e),L=function(){var i=e.data(o);return i&&i.tipOrModal.isInDom()?i:(e.data(o,null),null)}(),M=this.context.userSettings,S=O._initTipOpenTriggers.bind(O,e,i,t,_),m=v.widgetTips(e);return a=a||L&&L.tipOrModal,g=a&&a.id(),l=l||L&&L.otherTipLaunchedSignal,c=d.filter(m,function(e,i){return i.id()!==g}),d.each(n,function(e,i){i.unbindEvents()}),t&&(M.get(T.WidgetTipsAutomaticXout)||M.get(T.WidgetTipsRolloverXout))&&(t=u.TipEventLevel.click),b.toggleClass(r,!!t),O._widgetClickOpen()&&(w=O._alwaysLaunchSecureTip()?"secure-tip":"insecure-tip",_.push(new u.ClickTipOpenTrigger(d.extend({$widget:e,$tipClickOpen:e,handleOpen:function(i,t){l&&l.trigger(),O._launchTip(e,w,S,i,t)}},i)))),0===m.length&&(w=O._alwaysLaunchSecureTip()?"secure-tip":"insecure-tip",f=C.clickOpenTriggers(e,w),f.length&&_.push(new u.ClickTipOpenTrigger(d.extend({$widget:e,$tipClickOpen:f,handleOpen:function(i,t){l&&l.trigger(),O._launchTip(e,w,S,i,t)}},i)))),d.each(c,function(n,r){var s,o,c,g,p;t&&(s=r.id(),g=C.clickOpenTriggersOutsidePopup(e,s),p=C.rolloverOpenTriggersOutsidePopup(e,s),a&&(g=g.add(a.clickOpenTriggersForTipId(s)),p=p.add(a.rolloverOpenTriggersForTipId(s))),o=function(i,t){l&&l.trigger(),O._launchTip(e,s,S,i,t)},h=d.extend({$widget:e,handleOpen:o},i),c=[new u.PageLoadTipOpenTrigger(h)],p.length&&c.push(new u.MouseOverTipOpenTrigger(d.extend({$tipRolloverOpen:p},h))),g.length&&c.push(new u.ClickTipOpenTrigger(d.extend({$tipClickOpen:g},h))),d.each(c,function(e,i){_.push(i)}))}),d.each(_,function(e,i){var n=i.getEventLevel(),r=n===u.TipEventLevel.rollover&&d.isMobileSafari;t>=i.getEventLevel()&&!r&&i.bindEvents()}),S},_beforeLaunchTip:d.noop,_afterLaunchTip:d.noop,_launchTip:function(e,t,n,r,s){var l,c,g,p=this,T=p.context,f=new i.Signal,C=new u.SignalTipCloseTrigger({signal:f}),O={locale:p._getLocaleCode(),staticContentUri:T.profileURI};p._alwaysLaunchModal()||p._widgetContext(e)===h.Context.QuickView||T.pdpWidgetAppContainer===h.Container.Modal||T.responsiveManager.currentScreenSize()===h.ScreenSize.Small?(g=T.getModal(t),T.responsiveManager.currentScreenSize()===h.ScreenSize.Small&&(O.popStateEnabled=!0,c=new u.PopStateTipCloseTrigger)):(g=v.fromWidget(e,t),g||w.raise("Tip: "+t+" not found on widget:",e),g.setPlacement(T.tipConfig.placement)),l=g.hasIframe()?d.extend({windowId:e.data(a)},s,this._getProfileParams(e)):p.templates[s+"-content"],g.show(O,l,{before:function(){p._beforeLaunchTip(e,g,s)},after:function(){p._afterLaunchTip(e,g,s)}},this.context),e.data(o,{tipOrModal:g,otherTipLaunchedSignal:f,otherTipLaunchedTipCloseTrigger:C,reinitTipsWhenThisOneCloses:n(g,f),closeTriggers:r}),r.push(C),c&&r.push(c),this._bindCloseTriggers(e)},_bindCloseTriggers:function(e){var i,t,n,r,s,a,l=this,c=e.data(o);c&&(t=c.closeTriggers,s=c.otherTipLaunchedTipCloseTrigger,a=c.reinitTipsWhenThisOneCloses,n=c.tipOrModal,r=n.id(),i=C.clickCloseTriggersOutsidePopup(e,n.id()).add(n.clickCloseTriggers()),d.each(t,function(t,o){var c=o===s,g=function(){l._closeTip(e,n,r,c),c||a()};o.bindEvents({$widget:e,tipOrModal:n,$tipClickClose:i,handleClose:g})}))},_unbindCloseTriggers:function(e){var i,t=e.data(o);t&&(i=t.closeTriggers,i&&d.each(i,function(e,i){i.unbindEvents()}))},_closeTip:function(e,i,t,n){this._unbindCloseTriggers(e),e.data(o,null),i.hide({},this.context.profileMessageBroadcaster,n)},_getProfileParams:i.Class.unimplemented,_widgetContext:function(e){return e.attr(f.CONTEXT)},_alwaysLaunchModal:function(){return!1},_alwaysLaunchSecureTip:function(){return!1},_widgetClickOpen:function(){return!1}})}(tfcJQuery,TFCApp);
!function(t,e){"use strict";function n(t){return F("."+b,t)}function r(t){var e=t.attr(x.STYLE_ID),n=S[e];return{firstName:t.attr(x.FIRST_NAME),gender:t.attr(x.GENDER)||n.gender,department:n.department,productType:n.productType,registered:t.attr(x.STORE_REGISTERED),styleId:e,alternateUserId:t.attr(x.ALT_USER_ID),styleColorId:t.attr(x.STYLE_COLOR_ID),availableSizes:t.attr(x.AVAILABLE_SIZES),context:t.attr(x.CONTEXT)}}function i(t,e){n(t).addClass(C),tfc.__calculate(void 0,{isEnteringData:e})}function a(t,e){var n={};return f.each(t,function(t,r){f.containsVal(e,t)&&(n[t]=r)}),n}function s(t,e){var n=a(e,U);return t.autoSizeSelectEnabled||(n.size=""),n}function c(t){return a(t,P)}function o(e,n){return{fitRecommendations:t.map(n.fitRecommendations,function(t){return s(e,t)}),tfpUser:c(n.tfpUser)}}function l(t,e,n,r){return{element:e,fitRecommendation:s(t,n),response:r}}function u(t,e,n){var r=e.templateName,i=t===R.NoUser,a=r===R.IncompleteProfile,s=n.isEnteringData;return s&&i&&a&&(r=t),r}var d=e.type,f=e.util,m=e.Constants,p=e.Tip,g=p.Placement,S={},v=m.FitRec.Event,_=m.FitRec.Status,R=m.FitRec.TemplateName,h=v.OpenDialog,E=v.MoreInfo,I=v.Render,T="tfc-fitrec-retry",C="tfc-retry-fitrec-inprogress",A="tfc-fitrec-base",b="tfc-fitrec-result",y="tfc-tip-result",O="tfc-gsa-enabled",L="tfc-gsa-disabled",N="tfc-gsa-available",z="tfc-gsa-unavailable",F=e.extLibs,D=e.FitRecUtil,x=m.Attributes,U=["id","status","score","priority","size","advice","recommended"],P=["isAuthenticated","isInitialProfileComplete","isLoggedOut","isUserAvailable","isCredentialSaved","gender"],j="data-event-object",B="data-current-template-name";e.widget({className:"FitRecs",widgetName:A,isAbstract:!0,retryTimeoutId:null,event:function(t,e){t===E&&(t=h),this._super(t,e)},getCurrentFitResults:function(){return S},preCall:function(){var t=this,e=t._super();return t.retryTimeoutId&&clearTimeout(t.retryTimeoutId),e},_supportedAttrs:function(){return this._super().concat([x.STYLE_ID,x.CONTEXT,x.AVAILABLE_SIZES,x.STYLE_COLOR_ID])},_preCallAttrs:function(){return f.filter(this._super(),function(t,e){return e!==x.AVAILABLE_SIZES&&e!==x.STYLE_COLOR_ID})},expectedUpdateTypes:function(){var t=this._super();return t.products=d.Object({availableSizes:d.String.optional(),colorId:d.String.optional()}).optional(),t},update:function(e){this._super(e);var n,r=this,i=e&&e.products;i&&(n=r.getNodes(),f.each(i,function(e,i){var a=n.filter(function(){return t(this).attr("id")===e});f.each(i,function(t,e){r._updateAttr(a,t,e)})}))},postCall:function(t){var e=t.fitRecommendations,n={},r=o(this.context,t),a=this,s=a.getNodes(),c=!1,l=[];a._super(t),a.context.profileMessageBroadcaster.broadcastFitRecResults(e),f.each(e,function(t,e){n[e.id]=S[e.id]=e,e.status===_.NoUser&&(c=!0)}),s.each(function(e,i){var s=n[i.id],c=s&&s.extraClasses||[],o=t.extraClasses.concat(c),u=o.join(" ");a._renderResultFitCall(F(i),n[i.id],t,r,u,l)}),l.length>0&&(this.retryTimeoutId=setTimeout(function(){i(s,t.isEnteringData)},5e3)),a.event(I,{widgets:s.get(),response:r})},_getProfileParams:function(t){return r(t)},_renderResultCommon:function(e,r,i){var a;n(e).addClass(r+" "+i),a=t.trim(e.attr(x.FIRST_NAME)),a.length>0&&F(".tfc-first-name",e).html(a)},_renderResultFitCall:function(r,a,s,c,o,m){function p(t,n){return e.checkArgs(arguments)(d.String,d.String),function(e,r){return r&&f.stringStartsWith(e,t)&&f.stringEndsWith(e,n)}}function S(e,n){var r,i=k.templates;return n?(r=p(e,n),t.map(i,function(t,e){return r(e,t)?t:null})):i[e]?[i[e]]:[]}if(e.checkArgs(arguments)(d.Instance(t),d.PlainObject.optional(),d.Object({userFlags:d.Object({generalSizeAdviceEnabled:d.Boolean})}),d.PlainObject,d.String,d.Array),d.PlainObject.test(a)){var v,_,h,E,I,C,A,b,x,U,P,w,M,Y,G,V,W,k=this,Z=k.context;v=u(r.data(B),a,s),r.data(B,v),b=s.userFlags.generalSizeAdviceEnabled,U=a.gsa,P=U&&U.overall,w=U&&U.brand,M=v===R.BrandAdvice?w:P,x=!!M,Y=null===a.category?"":"tfc-"+a.category,G=null===a.sellingSizeStep?"":"tfc-"+a.sellingSizeStep,V=[Y,G].join(" "),W=F("."+y+".tfc-secure",r),h=Z.tipConfig.placement,_=S("secure-tip"),E=S("insecure-tip"),A=l(Z,r,a,c),r.data(j,A),I=k.templates[v],C=_[0]+E[0],r.contents().not(".tfc-tip-result").remove(),0===W.length&&r.append(C),r[h===g.Below?"prepend":"append"](D.evalTemplate(I)),k._renderResultCommon(r,o,V),v===R.AnonymousNotRecommended||v===R.AnonymousRecommended||v===R.NotRecommended||v===R.Recommended?(D.animateFitScore(r,a.score,300,s.messages,s.legacyMessages),F(".tfc-size",r).text(a.size)):v===R.RecommendedGarmentUserSizeOnly||v===R.RecommendedGarmentSizeOnly||v===R.RecommendedUserSizeOnly?F(".tfc-size",r).text(a.size):v===R.EstimationInProgress&&(m.push(r),F("."+T,r).bind("click",function(){i(r,!1)})),n(r).toggleClass(O,b).toggleClass(L,!b).toggleClass(N,x).toggleClass(z,!x),x&&n(r).addClass("tfc-"+M.advice),x&&M===P&&F(".tfc-gsa-style-count",n(r)).text(M.styleCount),x&&M===w&&F(".tfc-gsa-brand",n(r)).text(M.brandName),k._initTip(r,o),k.event(a.status,A)}},_afterLaunchTip:function(t,e,n){(!e.hasIframe()||n.ips&&n.ips===m.IPS.FitDetails)&&this.event(h,t.data(j))}},e.widget.WidgetWithTips)}(tfcJQuery,TFCApp);
!function(t,e){"use strict";function n(t,e){t.contents().remove(),t.html(r.evalTemplate(e))}var a="render",r=e.FitRecUtil,i=e.Constants.Attributes;e.widget({className:"FitAccount",widgetName:"tfc-fitrec-account",postCall:function(e){var r,i=this,s=i.getNodes(),c=e.status;i._super(e),s.each(function(e,n){i._initTip(t(n),[])}),r=i.templates[c],s.each(function(){n(t(this),r)}),i.event(a,{widgets:s.get(),response:e})},_getProfileParams:function(t){var e=t.attr(i.FIRST_NAME),n=t.attr(i.GENDER),a=t.attr(i.STORE_REGISTERED),r=t.attr(i.ALT_USER_ID);return{firstName:e,gender:n,registered:a,alternateUserId:r}},_alwaysLaunchModal:function(){return!0},_alwaysLaunchSecureTip:function(){return!0}},e.widget.WidgetWithTips)}(tfcJQuery,TFCApp);
!function(e,t){"use strict";var a=e.Constants,n=a.Attributes,r=e.FitRecUtil,i=e.util,o=e.Modal,s="body",l="tfc-modal-backdrop",c={Close:"close",Complete:"complete",LogOut:"logout",Open:"open",PageLoad:"pageload",Render:"render",Update:"update",AddToBag:"addtobag"};e.widget({className:"FitProfile",widgetName:"tfc-fitrec-register",$loadingTemplate:null,scrollTop:0,heightToggleIntervalId:void 0,$modals:null,modals:null,onFitCallResponse:function(e){var t=this;t._super(e),e.extraClasses&&i.each(t.modals,function(t,a){a.decorateElement(e.extraClasses.join(" "))})},postCall:function(e){var a,n=this;n._super(e),a=n.getNodes(),a.each(function(e,a){n._initTip(t(a),[])}),n.event(c.Render,{widgets:a.get(),response:e})},setTemplates:function(e){function a(e){var t,a,i,s=c.$modals;return s||(c.$modals=s={}),s[e]=t=r.evalTemplate(c.templates[e+"-modal"]),i=e+"-tip",n[e]=a=o.fromTemplate(t,i),a.placeOnPage(),a}var n,c=this,u=c.context.responsiveManager;c._super(e),c.modals||(c.modals=n={},t(s).append(r.evalTemplate(c.templates["modal-backdrop"])),t("."+l).bind("click",i.noop),a("secure"),a("insecure"),i.each(n,function(e,t){t.updateScreenSize(u.currentScreenSize())}),u.subscribeToScreenSizeChange(function(e){i.each(n,function(t,a){a.updateScreenSize(e)})}))},_constructor:function(e){var t=this;t._super(e),e.fireFitrecRegisterEvent=t.event.bind(t),e.getModal=function(e){var a=t.modals;return"secure-tip"===e?a.secure:a.insecure}},_getProfileParams:function(e){var t=this;return{firstName:e.attr(n.FIRST_NAME),gender:e.attr(n.GENDER),registered:e.attr(n.STORE_REGISTERED),alternateUserId:e.attr(n.ALT_USER_ID),originWidget:t.widgetName,sourceTrigger:a.SourceTrigger.Banner}},_alwaysLaunchModal:function(){return!0},_alwaysLaunchSecureTip:function(){return!0},_widgetClickOpen:function(){return!0}},e.widget.WidgetWithTips)}(TFCApp,tfcJQuery);
!function(t){"use strict";t.widget({className:"FitRecsCatalog",widgetName:"tfc-fitrec-catalog"},t.widget.FitRecs)}(TFCApp);
!function(t){"use strict";t.widget({className:"FitRecsProduct",widgetName:"tfc-fitrec-product"},t.widget.FitRecs)}(TFCApp);
!function(t){"use strict";var e=t.Constants,r=e.Attributes,i=t.type;t.widget({className:"OrderNotify",widgetName:"tfc-order-notify",isVisible:!1,_supportedAttrs:function(){return this._super().concat([r.ORDER_ID])},expectedUpdateTypes:function(){var t=this._super();return t.orderId=i.String.optional(),t}})}(TFCApp);
!function(e,t){"use strict";var s=t.extLibs;t.widget({className:"SetUserId",widgetName:"tfc-set-userid",isVisible:!1,postCall:function(e){this._super(e),this.event("render",{widgets:s("."+this.widgetName).get(),response:e})}})}(tfcJQuery,TFCApp);
!function(e,i){"use strict";function t(){var e,i,t,n,r=document.getElementsByTagName("script"),a="",g={};for(i=0;i<r.length;++i)if(e=r[i].src,/fitrec(-[^\.]+)?\.js/.test(e)){a=e;break}for(t=(a.split("?",2)[1]||"").split("&"),i=0;i<t.length;++i)n=t[i].split("=",2),2===n.length&&(g[n[0]]=n[1]);return g}i.extLibs.domready(function(){var e=i.util,n=i.analytics,r=window.tfcManager?tfcManager.configuration:window.tfc.configuration;r.clientToServerLoggingLevel&&i.utility.Logger.initializeServerLogging({loggingLevel:r.clientToServerLoggingLevel,serviceURI:r.serviceURI,serviceSecureURI:r.serviceSecureURI,storeTla:r.storeKey,loggingTimeoutDelay:r.loggingTimeoutDelay,postRequestLimit:r.postRequestLimit,clientLogLimit:r.clientLogLimit,loggingContextLimit:r.loggingContextLimit});var a,g,o=r.responsiveManager=new i.manager.ResponsiveManager(r.profileDeviceType),c=r.analyticsManager=new n.AnalyticsManager,s=new i.UserSettings,l=new i.FitRecCookieHelper(s),u=r.experiments||[],p=["calculate","event","update"];r.shimQueryParams||(r.shimQueryParams=t()),r.profileMessageBroadcaster=new i.manager.ProfileMessageBroadcaster,o.subscribeToScreenSizeChange(function(e){r.profileMessageBroadcaster.broadcastScreenSizeChange(e)}),i.cookieHelper=l,window.tfc=g=new i.FitRecService(r,s),i.tfcapiSetup(r.legacyEventApiEnabled,p,g),a=i.experiment=new n.WidgetABTest(u),e.each(a.getEngines(),function(e,i){c.addEngine(i)}),g.__calculate(void 0,{initialCall:!0})})}(tfcJQuery,TFCApp);